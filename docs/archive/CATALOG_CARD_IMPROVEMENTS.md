# –£–ª—É—á—à–µ–Ω–∏—è –∫–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä–∞ –≤ –∫–∞—Ç–∞–ª–æ–≥–µ

**–î–∞—Ç–∞:** 2025-11-06
**–ó–∞–¥–∞—á–∞:** –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ –∫–∞—Ä—Ç–æ—á–∫–µ —Ç–æ–≤–∞—Ä–∞

## –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. ‚úÖ –£–¥–∞–ª—ë–Ω –±–ª–æ–∫ Stock Status
**–§–∞–π–ª:** `views/catalog/_product_card.php`

**–ë—ã–ª–æ:** –û—Ç–æ–±—Ä–∞–∂–∞–ª—Å—è –±–ª–æ–∫ "–í –Ω–∞–ª–∏—á–∏–∏" / "–ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏"
```php
<div class="stock <?= $product->isInStock() ? 'in' : 'out' ?>">
    <i class="bi bi-<?= $product->isInStock() ? 'check-circle' : 'x-circle' ?>"></i>
    <?= $product->isInStock() ? '–í –Ω–∞–ª–∏—á–∏–∏' : '–ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏' ?>
</div>
```

**–°—Ç–∞–ª–æ:** –ë–ª–æ–∫ –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª—ë–Ω, —Ç.–∫. –≤—Å–µ —Ç–æ–≤–∞—Ä—ã –≤ –∫–∞—Ç–∞–ª–æ–≥–µ –≤ –Ω–∞–ª–∏—á–∏–∏.

---

### 2. ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤
**–§–∞–π–ª:** `views/catalog/_product_card.php`

**–ë—ã–ª–æ:** 
- –ü–æ–∫–∞–∑—ã–≤–∞–ª–∏—Å—å —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–µ 6 —Ä–∞–∑–º–µ—Ä–æ–≤
- –û—Å—Ç–∞–ª—å–Ω—ã–µ —Å–∫—Ä—ã–≤–∞–ª–∏—Å—å —Å –æ—Ç–º–µ—Ç–∫–æ–π "+N"

**–°—Ç–∞–ª–æ:**
- –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è **–í–°–ï –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã** –±–µ–∑ –ª–∏–º–∏—Ç–∞
- –†–∞–∑–º–µ—Ä—ã –ø–µ—Ä–µ–Ω–æ—Å—è—Ç—Å—è –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫ (flex-wrap: wrap)
- –£ –∫–∞–∂–¥–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ tooltip —Å EU/US/UK/CM —Ä–∞–∑–º–µ—Ä–∞–º–∏

**–ö–æ–¥:**
```php
<?php if (!empty($product->sizes) && is_array($product->sizes)): ?>
<div class="sizes-quick">
    <?php 
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –í–°–ï –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –±–µ–∑ –ª–∏–º–∏—Ç–∞
    foreach ($product->sizes as $size): 
        if (!$size || !isset($size->size)) continue;
        
        // –§–æ—Ä–º–∏—Ä—É–µ–º tooltip —Å —Ä–∞–∑–º–µ—Ä–∞–º–∏ –≤ —Ä–∞–∑–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö
        $sizeTooltip = [];
        if (!empty($size->eu_size)) $sizeTooltip[] = 'EU: ' . $size->eu_size;
        if (!empty($size->us_size)) $sizeTooltip[] = 'US: ' . $size->us_size;
        if (!empty($size->uk_size)) $sizeTooltip[] = 'UK: ' . $size->uk_size;
        if (!empty($size->cm_size)) $sizeTooltip[] = 'CM: ' . $size->cm_size;
        $tooltipText = !empty($sizeTooltip) ? implode(' | ', $sizeTooltip) : '';
    ?>
        <span class="size-badge" 
              onclick="selectQuickSize(event, <?= $product->id ?>, '<?= Html::encode($size->size) ?>')" 
              <?php if ($tooltipText): ?>
              data-size-tooltip="<?= Html::encode($tooltipText) ?>"
              <?php endif; ?>><?= Html::encode($size->size) ?></span>
    <?php endforeach; ?>
</div>
<?php endif; ?>
```

---

### 3. ‚úÖ –î–∏–∞–ø–∞–∑–æ–Ω —Ü–µ–Ω –æ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –¥–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π
**–§–∞–π–ª:** `views/catalog/_product_card.php`

**–ë—ã–ª–æ:** –¶–µ–Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∞—Å—å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–°—Ç–∞–ª–æ:**
- –ï—Å–ª–∏ —É —Ä–∞–∑–º–µ—Ä–æ–≤ —Ä–∞–∑–Ω—ã–µ —Ü–µ–Ω—ã ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è **–¥–∏–∞–ø–∞–∑–æ–Ω** "150 Br - 200 Br"
- –ï—Å–ª–∏ —Ü–µ–Ω–∞ –æ–¥–∏–Ω–∞–∫–æ–≤–∞—è ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è **–æ–¥–Ω–∞ —Ü–µ–Ω–∞**
- –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–º–∏ sizes

**–ö–æ–¥:**
```php
<!-- –¶–µ–Ω–∞ (–¥–∏–∞–ø–∞–∑–æ–Ω –∏–ª–∏ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è) -->
<div class="price product-card-price">
    <?php 
    // –ü–æ–ª—É—á–∞–µ–º –¥–∏–∞–ø–∞–∑–æ–Ω —Ü–µ–Ω –∏–∑ —Ä–∞–∑–º–µ—Ä–æ–≤
    $priceRange = $product->getPriceRange();
    ?>
    <?php if ($priceRange && $product->hasPriceRange()): ?>
        <!-- –î–∏–∞–ø–∞–∑–æ–Ω —Ü–µ–Ω –æ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –¥–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π -->
        <span class="current product-card-price-current">
            <?= Yii::$app->formatter->asCurrency($priceRange['min'], 'BYN') ?>
            <span class="price-separator"> - </span>
            <?= Yii::$app->formatter->asCurrency($priceRange['max'], 'BYN') ?>
        </span>
    <?php else: ?>
        <!-- –û–¥–Ω–∞ —Ü–µ–Ω–∞ (–∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –≤–∞—Ä–∏–∞–Ω—Ç) -->
        <?php if ($product->hasDiscount()): ?>
            <span class="old product-card-price-old"><?= Yii::$app->formatter->asCurrency($product->old_price, 'BYN') ?></span>
            <span class="product-card-discount">-<?= $product->getDiscountPercent() ?>%</span>
        <?php endif; ?>
        <span class="current product-card-price-current"><?= Yii::$app->formatter->asCurrency($product->price, 'BYN') ?></span>
    <?php endif; ?>
</div>
```

---

### 4. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ
**–§–∞–π–ª:** `controllers/CatalogController.php`

**–ü—Ä–æ–±–ª–µ–º–∞:**
- Sizes –∑–∞–≥—Ä—É–∂–∞–ª–∏—Å—å –±–µ–∑ –ø–æ–ª—è `size` ‚Äî –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –±—ã–ª–æ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å
- Colors –≤–æ–æ–±—â–µ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–ª–∏—Å—å
- Brand –Ω–µ –∑–∞–≥—Ä—É–∂–∞–ª—Å—è (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–æ—Å—å —Ç–æ–ª—å–∫–æ brand_name)

**–†–µ—à–µ–Ω–∏–µ:**
```php
$query = Product::find()
    ->with([
        'brand',  // –ù—É–∂–µ–Ω –¥–ª—è $product->brand->name –≤ –∫–∞—Ä—Ç–æ—á–∫–µ
        'sizes' => function($query) {
            // –ò–°–ü–†–ê–í–õ–ï–ù–û: –¥–æ–±–∞–≤–∏–ª –ø–æ–ª–µ 'size' –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –∫–∞—Ä—Ç–æ—á–∫–µ
            $query->select(['id', 'product_id', 'size', 'price_byn', 'is_available', 'eu_size', 'us_size', 'uk_size', 'cm_size'])
                  ->where(['is_available' => 1])
                  ->orderBy(['size' => SORT_ASC]);
        },
        'colors' => function($query) {
            // –ò–°–ü–†–ê–í–õ–ï–ù–û: –¥–æ–±–∞–≤–∏–ª –∑–∞–≥—Ä—É–∑–∫—É —Ü–≤–µ—Ç–æ–≤ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –∫–∞—Ä—Ç–æ—á–∫–µ
            $query->select(['id', 'product_id', 'name', 'hex']);
        }
    ])
```

---

### 5. ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –º–µ—Ç–æ–¥ getPriceRange()
**–§–∞–π–ª:** `models/Product.php`

**–ü—Ä–æ–±–ª–µ–º–∞:** –ú–µ—Ç–æ–¥ –¥–µ–ª–∞–ª –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π SQL-–∑–∞–ø—Ä–æ—Å –∫ –ë–î, —Ö–æ—Ç—è sizes —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã

**–†–µ—à–µ–Ω–∏–µ:**
```php
public function getPriceRange()
{
    // –ï—Å–ª–∏ sizes —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ with() - –∏—Å–ø–æ–ª—å–∑—É–µ–º –∏—Ö
    if ($this->isRelationPopulated('sizes') && !empty($this->sizes)) {
        $prices = [];
        foreach ($this->sizes as $size) {
            if ($size->is_available && isset($size->price_byn) && $size->price_byn > 0) {
                $prices[] = $size->price_byn;
            }
        }
        
        if (empty($prices)) {
            return null;
        }
        
        return [
            'min' => min($prices),
            'max' => max($prices),
        ];
    }
    
    // Fallback: –¥–µ–ª–∞–µ–º –∑–∞–ø—Ä–æ—Å –µ—Å–ª–∏ sizes –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã
    // ... (—Å—Ç–∞—Ä—ã–π –∫–æ–¥ –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** 
- ‚úÖ –ù–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö SQL-–∑–∞–ø—Ä–æ—Å–æ–≤ (N+1 —Ä–µ—à–µ–Ω–∞)
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- ‚úÖ Fallback –Ω–∞ —Å—Ç–∞—Ä—ã–π –º–µ—Ç–æ–¥ –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

---

## –ò—Ç–æ–≥–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

### –ß—Ç–æ –≤–∏–¥–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ –∫–∞—Ä—Ç–æ—á–∫–µ —Ç–æ–≤–∞—Ä–∞:

1. ‚úÖ **–ë—Ä–µ–Ω–¥ –∏ –Ω–∞–∑–≤–∞–Ω–∏–µ** (–∫–∞–∫ –±—ã–ª–æ)
2. ‚úÖ **–†–µ–π—Ç–∏–Ω–≥** (–∫–∞–∫ –±—ã–ª–æ)
3. ‚úÖ **–¶–≤–µ—Ç–∞** (—Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ)
4. ‚úÖ **–í–°–ï —Ä–∞–∑–º–µ—Ä—ã** (–±—ã–ª–æ 6 ‚Üí —Å—Ç–∞–ª–æ –í–°–ï)
5. ‚úÖ **–¶–µ–Ω–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–æ–º** (150 Br - 200 Br)
6. ‚ùå **Stock status –£–î–ê–õ–Å–ù** (–±—ã–ª ‚Üí —É–¥–∞–ª—ë–Ω)

---

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- **–ë—ã–ª–æ:** N+1 –ø—Ä–æ–±–ª–µ–º–∞ —Å –∑–∞–≥—Ä—É–∑–∫–æ–π sizes
- **–°—Ç–∞–ª–æ:** 1 –∑–∞–ø—Ä–æ—Å –Ω–∞ –≤—Å–µ —Ç–æ–≤–∞—Ä—ã + 3 join (brand, sizes, colors)
- **–≠–∫–æ–Ω–æ–º–∏—è:** ~100-200 SQL –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∫–∞—Ç–∞–ª–æ–≥–∞

---

## CSS —Å—Ç–∏–ª–∏

–£–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ `web/css/catalog-card.css`:
- `.sizes-quick` ‚Üí `flex-wrap: wrap` (–ø–µ—Ä–µ–Ω–æ—Å —Ä–∞–∑–º–µ—Ä–æ–≤ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫)
- `.size-badge` ‚Üí hover —ç—Ñ—Ñ–µ–∫—Ç—ã –∏ tooltip
- `.price-separator` ‚Üí —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –¥–ª—è –¥–∏–∞–ø–∞–∑–æ–Ω–∞ —Ü–µ–Ω

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:
1. –û—Ç–∫—Ä—ã—Ç—å –∫–∞—Ç–∞–ª–æ–≥ `/catalog`
2. –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ:
   - ‚úÖ –í—Å–µ —Ä–∞–∑–º–µ—Ä—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
   - ‚úÖ –¶–µ–Ω–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –¥–∏–∞–ø–∞–∑–æ–Ω–æ–º (–µ—Å–ª–∏ —Ü–µ–Ω—ã —Ä–∞–∑–Ω—ã–µ —É —Ä–∞–∑–º–µ—Ä–æ–≤)
   - ‚úÖ –ë–ª–æ–∫ "–í –Ω–∞–ª–∏—á–∏–∏" –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
   - ‚úÖ Tooltip —É —Ä–∞–∑–º–µ—Ä–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç (EU/US/UK/CM)

---

## –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã

1. `/views/catalog/_product_card.php` ‚Äî UI –∫–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä–∞ (–ø–∞—Ä—Ç–∏–∞–ª, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –¥—Ä—É–≥–∏—Ö –º–µ—Å—Ç–∞—Ö)
2. `/views/catalog/_products.php` ‚Äî —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Å–ø–∏—Å–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∫–∞—Ç–∞–ª–æ–≥–µ
3. `/views/catalog/index.php` ‚Äî —É–¥–∞–ª–µ–Ω—ã CSS —Å—Ç–∏–ª–∏ –¥–ª—è .stock
4. `/web/css/catalog-card.css` ‚Äî —É–¥–∞–ª–µ–Ω—ã —Å—Ç–∏–ª–∏ –±–ª–æ–∫–∞ –Ω–∞–ª–∏—á–∏—è
5. `/controllers/CatalogController.php` ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å eager loading
6. `/models/Product.php` ‚Äî –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –º–µ—Ç–æ–¥–∞ getPriceRange()

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (10:48)

### –£–¥–∞–ª–µ–Ω –±–ª–æ–∫ Stock Status –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞
**–§–∞–π–ª—ã:**
- `views/catalog/_products.php` (—Å—Ç—Ä–æ–∫–∏ 135-138) ‚Äî —É–¥–∞–ª–µ–Ω –±–ª–æ–∫ "–í –Ω–∞–ª–∏—á–∏–∏"
- `views/catalog/index.php` (—Å—Ç—Ä–æ–∫–∏ 866-868) ‚Äî —É–¥–∞–ª–µ–Ω—ã CSS —Å—Ç–∏–ª–∏ `.stock.in` –∏ `.stock.out`
- `web/css/catalog-card.css` (—Å—Ç—Ä–æ–∫–∏ 374-397) ‚Äî —É–¥–∞–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è "–ù–ê–õ–ò–ß–ò–ï" —Å–æ —Å—Ç–∏–ª—è–º–∏

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∫–∞—Ç–∞–ª–æ–≥–∞ http://localhost:8080/catalog –±–ª–æ–∫ —Å—Ç–∞—Ç—É—Å–∞ —Ç–æ–≤–∞—Ä–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª–µ–Ω
- –í—Å–µ —Ç–æ–≤–∞—Ä—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –±–µ–∑ –∏–Ω–¥–∏–∫–∞—Ü–∏–∏ –Ω–∞–ª–∏—á–∏—è
- CSS —Å—Ç–∏–ª–∏ –æ—á–∏—â–µ–Ω—ã –æ—Ç –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –∫–æ–¥–∞

---

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (10:51)

### –£–º–µ–Ω—å—à–µ–Ω—ã –æ—Ç—Å—Ç—É–ø—ã –º–µ–∂–¥—É —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –∫–∞—Ä—Ç–æ—á–∫–∏
**–ü—Ä–æ–±–ª–µ–º–∞:** –ú–µ–∂–¥—É –Ω–∞–∑–≤–∞–Ω–∏–µ–º —Ç–æ–≤–∞—Ä–∞ –∏ —Ä–∞–∑–º–µ—Ä–∞–º–∏ –±—ã–ª–æ –º–Ω–æ–≥–æ –≤–æ–∑–¥—É—Ö–∞

**–†–µ—à–µ–Ω–∏–µ:**
- –£–º–µ–Ω—å—à–µ–Ω `gap` –≤ `.info.product-card-body` —Å **8px ‚Üí 6px** (mobile) –∏ **10px ‚Üí 6px** (tablet)
- –î–æ–±–∞–≤–ª–µ–Ω `margin-bottom: 4px` –¥–ª—è `.product-card-name` (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ—Ç—Å—Ç—É–ø –ø–æ—Å–ª–µ –Ω–∞–∑–≤–∞–Ω–∏—è)
- –î–æ–±–∞–≤–ª–µ–Ω `margin-bottom: 6px` –¥–ª—è `.rating` (–æ—Ç—Å—Ç—É–ø –ø–æ—Å–ª–µ —Ä–µ–π—Ç–∏–Ω–≥–∞)
- –î–æ–±–∞–≤–ª–µ–Ω `margin-bottom: 6px` –¥–ª—è `.colors` (–æ—Ç—Å—Ç—É–ø –ø–æ—Å–ª–µ —Ü–≤–µ—Ç–æ–≤)
- –î–æ–±–∞–≤–ª–µ–Ω `margin-bottom: 8px` –¥–ª—è `.sizes-quick` (–æ—Ç—Å—Ç—É–ø –ø–µ—Ä–µ–¥ —Ü–µ–Ω–æ–π)

**–§–∞–π–ª:** `web/css/catalog-card.css`

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ö–∞—Ä—Ç–æ—á–∫–∞ —Ç–æ–≤–∞—Ä–∞ —Å—Ç–∞–ª–∞ –∫–æ–º–ø–∞–∫—Ç–Ω–µ–µ –∏ —á–∏—â–µ
- –£–º–µ–Ω—å—à–µ–Ω–æ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –º–µ–∂–¥—É —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏
- –£–ª—É—á—à–µ–Ω–∞ –≤–∏–∑—É–∞–ª—å–Ω–∞—è –ø–ª–æ—Ç–Ω–æ—Å—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

---

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (10:52)

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ —Ü–µ–Ω –≤ –∫–∞—Ç–∞–ª–æ–≥–µ
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∫–∞—Ç–∞–ª–æ–≥–∞ http://localhost:8080/catalog –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–ª—Å—è –¥–∏–∞–ø–∞–∑–æ–Ω —Ü–µ–Ω –∏–∑ —Ä–∞–∑–º–µ—Ä–æ–≤

**–ü—Ä–∏—á–∏–Ω–∞:** –§–∞–π–ª `_products.php` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª —Å—Ç–∞—Ä—É—é –ª–æ–≥–∏–∫—É –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ `$product->price`, –∞ –Ω–µ –¥–∏–∞–ø–∞–∑–æ–Ω –∏–∑ —Ä–∞–∑–º–µ—Ä–æ–≤

**–†–µ—à–µ–Ω–∏–µ:**
–î–æ–±–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ —Ü–µ–Ω –≤ `views/catalog/_products.php`:
```php
<?php 
// –ü–æ–ª—É—á–∞–µ–º –¥–∏–∞–ø–∞–∑–æ–Ω —Ü–µ–Ω –∏–∑ —Ä–∞–∑–º–µ—Ä–æ–≤
$priceRange = $product->getPriceRange();
?>
<?php if ($priceRange && $product->hasPriceRange()): ?>
    <!-- –î–∏–∞–ø–∞–∑–æ–Ω —Ü–µ–Ω –æ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –¥–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π -->
    <span class="current product-card-price-current">
        <?= Yii::$app->formatter->asCurrency($priceRange['min'], 'BYN') ?>
        <span class="price-separator"> - </span>
        <?= Yii::$app->formatter->asCurrency($priceRange['max'], 'BYN') ?>
    </span>
<?php else: ?>
    <!-- –û–¥–Ω–∞ —Ü–µ–Ω–∞ (–∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –≤–∞—Ä–∏–∞–Ω—Ç) -->
    ...
<?php endif; ?>
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∫–∞—Ç–∞–ª–æ–≥–∞ —Ç–µ–ø–µ—Ä—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –¥–∏–∞–ø–∞–∑–æ–Ω —Ü–µ–Ω: **"311,12 Br - 419,84 Br"**
- –î–∏–∞–ø–∞–∑–æ–Ω —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∏–∑ `price_byn` –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤
- –ï—Å–ª–∏ —Ü–µ–Ω—ã –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –æ–¥–Ω–∞ —Ü–µ–Ω–∞
- –ï—Å–ª–∏ —Ä–∞–∑–Ω–∏—Ü–∞ —Ü–µ–Ω < 1 BYN ‚Äî —Å—á–∏—Ç–∞–µ—Ç—Å—è –æ–¥–Ω–æ–π —Ü–µ–Ω–æ–π

**–ü—Ä–∏–º–µ—Ä:**
- –¢–æ–≤–∞—Ä: Nike Dunk Low
- –¶–µ–Ω–∞ –≤ –∫–∞—Ç–∞–ª–æ–≥–µ: **311,12 Br - 419,84 Br** (–º–∏–Ω –∏ –º–∞–∫—Å —Ü–µ–Ω–∞ —Ä–∞–∑–º–µ—Ä–æ–≤)

---

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (10:55)

### –î–∏–∞–ø–∞–∑–æ–Ω —Ü–µ–Ω –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ç–æ–≤–∞—Ä–∞ —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º
**–ó–∞–¥–∞—á–∞:** –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ç–æ–≤–∞—Ä–∞ –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –¥–∏–∞–ø–∞–∑–æ–Ω —Ü–µ–Ω, –∞ –ø—Ä–∏ –≤—ã–±–æ—Ä–µ —Ä–∞–∑–º–µ—Ä–∞ - –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —Ü–µ–Ω—É

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ç–æ–≤–∞—Ä–∞ –≤—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞–ª–∞—Å—å —Ç–æ–ª—å–∫–æ `$product->price`, –¥–∞–∂–µ –µ—Å–ª–∏ —É —Ä–∞–∑–º–µ—Ä–æ–≤ —Ä–∞–∑–Ω—ã–µ —Ü–µ–Ω—ã

**–†–µ—à–µ–Ω–∏–µ:**

1. **PHP –∫–æ–¥** (`views/catalog/product.php` —Å—Ç—Ä–æ–∫–∏ 210-240):
   - –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ —Ü–µ–Ω —á–µ—Ä–µ–∑ `getPriceRange()`
   - –ï—Å–ª–∏ –µ—Å—Ç—å –¥–∏–∞–ø–∞–∑–æ–Ω ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ–º "min - max"
   - –ï—Å–ª–∏ –æ–¥–Ω–∞ —Ü–µ–Ω–∞ ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–∞–∫ —Ä–∞–Ω—å—à–µ
   - –î–æ–±–∞–≤–ª–µ–Ω—ã data-–∞—Ç—Ä–∏–±—É—Ç—ã –¥–ª—è JS: `data-has-range`, `data-min-price`, `data-max-price`

2. **JavaScript –∫–æ–¥** (—Å—Ç—Ä–æ–∫–∏ 1659-1718):
   - –ü—Ä–∏ –≤—ã–±–æ—Ä–µ —Ä–∞–∑–º–µ—Ä–∞ ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —Ü–µ–Ω—É —ç—Ç–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞
   - –ü—Ä–∏ —Å–±—Ä–æ—Å–µ –≤—ã–±–æ—Ä–∞ ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –¥–∏–∞–ø–∞–∑–æ–Ω —Ü–µ–Ω (–µ—Å–ª–∏ –±—ã–ª)
   - –ü–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ü–µ–Ω—ã (scale —ç—Ñ—Ñ–µ–∫—Ç)

3. **CSS —Å—Ç–∏–ª–∏** (—Å—Ç—Ä–æ–∫–∞ 1082):
   - –î–æ–±–∞–≤–ª–µ–Ω —Å—Ç–∏–ª—å –¥–ª—è `.price-separator` (—Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å " - ")

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**

**–ò–∑–Ω–∞—á–∞–ª—å–Ω–æ (–±–µ–∑ –≤—ã–±–æ—Ä–∞ —Ä–∞–∑–º–µ—Ä–∞):**
```
Nike Dunk Low
311,12 Br - 419,84 Br
```

**–ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ —Ä–∞–∑–º–µ—Ä–∞ 42:**
```
Nike Dunk Low
350,00 Br
```

**–ü–æ—Å–ª–µ —Å–±—Ä–æ—Å–∞ –≤—ã–±–æ—Ä–∞:**
```
Nike Dunk Low
311,12 Br - 419,84 Br
```

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `views/catalog/product.php` ‚Äî PHP –ª–æ–≥–∏–∫–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ + JS –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω—ã + CSS —Å—Ç–∏–ª–∏

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ò–∑–Ω–∞—á–∞–ª—å–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –¥–∏–∞–ø–∞–∑–æ–Ω —Ü–µ–Ω –∏–∑ —Ä–∞–∑–º–µ—Ä–æ–≤
- ‚úÖ –ü—Ä–∏ –≤—ã–±–æ—Ä–µ —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Ü–µ–Ω–∞
- ‚úÖ –ü—Ä–∏ —Å–±—Ä–æ—Å–µ –≤—ã–±–æ—Ä–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –¥–∏–∞–ø–∞–∑–æ–Ω
- ‚úÖ –ü–ª–∞–≤–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤
- ‚úÖ –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ —Å –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ –∫–∞—Ç–∞–ª–æ–≥–∞

---

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (11:00)

### 1. –£–º–µ–Ω—å—à–µ–Ω —Ä–∞–∑–º–µ—Ä –±–µ–π–¥–∂–µ–π —Ä–∞–∑–º–µ—Ä–æ–≤ –≤ –∫–∞—Ç–∞–ª–æ–≥–µ
**–§–∞–π–ª:** `web/css/catalog-card.css`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- `padding: 3px 6px` (–±—ã–ª–æ 4px 8px)
- `font-size: 10px` (–±—ã–ª–æ 11px)
- `border-radius: 4px` (–±—ã–ª–æ 6px)
- `.size-more` —É–º–µ–Ω—å—à–µ–Ω –¥–æ `10px` (–±—ã–ª–æ 11px)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ë–µ–π–¥–∂–∏ —Ä–∞–∑–º–µ—Ä–æ–≤ —Å—Ç–∞–ª–∏ –∫–æ–º–ø–∞–∫—Ç–Ω–µ–µ, –∑–∞–Ω–∏–º–∞—é—Ç –º–µ–Ω—å—à–µ –º–µ—Å—Ç–∞

---

### 2. –°—Å—ã–ª–∫–∞ –Ω–∞ –∫–∞—Ç–∞–ª–æ–≥ —Å —Ñ–∏–ª—å—Ç—Ä–æ–º –ø–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É —Ä–∞–∑–º–µ—Ä—É
**–ó–∞–¥–∞—á–∞:** –ü—Ä–∏ –≤—ã–±–æ—Ä–µ —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å—Å—ã–ª–∫—É "–°–º–æ—Ç—Ä–µ—Ç—å –¥—Ä—É–≥–∏–µ —Ç–æ–≤–∞—Ä—ã —Ä–∞–∑–º–µ—Ä–∞ X"

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**

**HTML** (`views/catalog/product.php` —Å—Ç—Ä–æ–∫–∏ 313-317):
```php
<div class="selected-size-link" id="selectedSizeLink" style="display:none;">
    <i class="bi bi-box-seam"></i>
    <span>–°–º–æ—Ç—Ä–µ—Ç—å –¥—Ä—É–≥–∏–µ —Ç–æ–≤–∞—Ä—ã —Ä–∞–∑–º–µ—Ä–∞ <strong id="selectedSizeValue"></strong> ‚Üí</span>
</div>
```

**JavaScript** (—Å—Ç—Ä–æ–∫–∏ 1697-1704):
```javascript
// –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Å—ã–ª–∫—É –Ω–∞ –∫–∞—Ç–∞–ª–æ–≥ —Å –≤—ã–±—Ä–∞–Ω–Ω—ã–º —Ä–∞–∑–º–µ—Ä–æ–º
if (sizeLinkElement && sizeValueElement && selectedSize) {
    sizeValueElement.textContent = selectedSize;
    sizeLinkElement.style.display = 'flex';
    sizeLinkElement.onclick = function() {
        window.location.href = '/catalog?size=' + encodeURIComponent(selectedSize);
    };
}
```

**CSS** (—Å—Ç—Ä–æ–∫–∏ 1145-1149):
```css
.selected-size-link{
    display:flex;
    align-items:center;
    gap:0.5rem;
    padding:0.75rem 1rem;
    background:linear-gradient(135deg,#f0f9ff 0%,#e0f2fe 100%);
    border:1px solid #bae6fd;
    border-radius:8px;
    font-size:0.8125rem;
    color:#0369a1;
    margin-top:1rem;
    cursor:pointer;
    transition:all 0.2s;
}
.selected-size-link:hover{
    transform:translateX(4px);  /* –ü–ª–∞–≤–Ω—ã–π —Å–¥–≤–∏–≥ –≤–ø—Ä–∞–≤–æ */
    box-shadow:0 2px 8px rgba(3,105,161,0.15);
}
```

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**

**–î–æ –≤—ã–±–æ—Ä–∞ —Ä–∞–∑–º–µ—Ä–∞:**
```
[–†–∞–∑–º–µ—Ä—ã: 40 41 42 43 44]
(—Å—Å—ã–ª–∫–∞ —Å–∫—Ä—ã—Ç–∞)
```

**–ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ —Ä–∞–∑–º–µ—Ä–∞ 42:**
```
[–†–∞–∑–º–µ—Ä—ã: 40 41 [42] 43 44]
üì¶ –°–º–æ—Ç—Ä–µ—Ç—å –¥—Ä—É–≥–∏–µ —Ç–æ–≤–∞—Ä—ã —Ä–∞–∑–º–µ—Ä–∞ 42 ‚Üí
```

**–ü–æ—Å–ª–µ —Å–±—Ä–æ—Å–∞ –≤—ã–±–æ—Ä–∞:**
```
[–†–∞–∑–º–µ—Ä—ã: 40 41 42 43 44]
(—Å—Å—ã–ª–∫–∞ —Å–∫—Ä—ã—Ç–∞)
```

**–í–µ–¥–µ—Ç –Ω–∞:** `/catalog?size=42`

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å–µ –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
