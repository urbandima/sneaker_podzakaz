# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ: –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –∏–º–ø–æ—Ä—Ç–∞

**–î–∞—Ç–∞**: 04.11.2024  
**–í–µ—Ä—Å–∏—è**: 1.0  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ì–æ—Ç–æ–≤–æ

---

## üéØ –û–±–∑–æ—Ä

–ö–∞–∂–¥—ã–π –∏–º–ø–æ—Ä—Ç —Ç–æ–≤–∞—Ä–æ–≤ —Å–æ–∑–¥–∞–µ—Ç –∑–∞–ø–∏—Å—å –≤ —Ç–∞–±–ª–∏—Ü–µ `import_batch` —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ø—Ä–æ—Ü–µ—Å—Å–µ –∏–º–ø–æ—Ä—Ç–∞ –∏ –µ–≥–æ —Å—Ç–∞—Ç—É—Å–µ.

---

## üìä –°—Ç–∞—Ç—É—Å—ã –∏–º–ø–æ—Ä—Ç–∞

### –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã

| –°—Ç–∞—Ç—É—Å | –ó–Ω–∞—á–µ–Ω–∏–µ | Badge | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|----------|-------|----------|
| `pending` | –û–∂–∏–¥–∞–Ω–∏–µ | üîµ | –ò–º–ø–æ—Ä—Ç —Å–æ–∑–¥–∞–Ω, –Ω–æ –µ—â–µ –Ω–µ –Ω–∞—á–∞–ª—Å—è |
| `processing` | –í –ø—Ä–æ—Ü–µ—Å—Å–µ | üü° | –ò–º–ø–æ—Ä—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å |
| `completed` | –ó–∞–≤–µ—Ä—à–µ–Ω | üü¢ | –ò–º–ø–æ—Ä—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω |
| `failed` | –û—à–∏–±–∫–∞ | üî¥ | –ò–º–ø–æ—Ä—Ç –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —Å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π –æ—à–∏–±–∫–æ–π |

---

## üîÑ –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –∏–º–ø–æ—Ä—Ç–∞

### 1. –°–æ–∑–¥–∞–Ω–∏–µ (pending)

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞
                    ‚Üì
           –°–æ–∑–¥–∞–µ—Ç—Å—è ImportBatch
                    ‚Üì
         status = 'pending' –∏–ª–∏ 'processing'
         started_at = —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è
         created_by = ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```

**–î–∞–Ω–Ω—ã–µ –≤ –ë–î**:
```php
[
    'source' => 'poizon',          // –ò—Å—Ç–æ—á–Ω–∏–∫
    'type' => 'full',              // –¢–∏–ø –∏–º–ø–æ—Ä—Ç–∞
    'status' => 'processing',      // –°—Ç–∞—Ç—É—Å
    'started_at' => '2024-11-04 16:00:00',
    'created_by' => 1,             // ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    'config' => '{
        "file": "export.json",
        "format": "json",
        "import_type": "file_upload"
    }'
]
```

---

### 2. –û–±—Ä–∞–±–æ—Ç–∫–∞ (processing)

```
–ü–∞—Ä—Å–∏–Ω–≥ —Ñ–∞–π–ª–∞ ‚Üí –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤
                       ‚Üì
              total_items = N (–Ω–∞–π–¥–µ–Ω–æ —Ç–æ–≤–∞—Ä–æ–≤)
                       ‚Üì
        –¶–∏–∫–ª –∏–º–ø–æ—Ä—Ç–∞ –∫–∞–∂–¥–æ–≥–æ —Ç–æ–≤–∞—Ä–∞:
        ‚îú‚îÄ created_count++ (—Å–æ–∑–¥–∞–Ω–æ)
        ‚îú‚îÄ updated_count++ (–æ–±–Ω–æ–≤–ª–µ–Ω–æ)
        ‚îî‚îÄ error_count++   (–æ—à–∏–±–æ–∫)
                       ‚Üì
              –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ ImportLog
```

**–û–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ –ë–î** (–≤ –ø—Ä–æ—Ü–µ—Å—Å–µ):
```php
[
    'total_items' => 100,          // –í—Å–µ–≥–æ —Ç–æ–≤–∞—Ä–æ–≤
    'created_count' => 45,         // –°–æ–∑–¥–∞–Ω–æ (—Ç–µ–∫—É—â–µ–µ)
    'updated_count' => 30,         // –û–±–Ω–æ–≤–ª–µ–Ω–æ (—Ç–µ–∫—É—â–µ–µ)
    'error_count' => 2,            // –û—à–∏–±–æ–∫ (—Ç–µ–∫—É—â–µ–µ)
]
```

---

### 3. –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ (completed/failed)

```
–í—Å–µ —Ç–æ–≤–∞—Ä—ã –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã
         ‚Üì
status = 'completed' –∏–ª–∏ 'failed'
finished_at = —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è
duration_seconds = finished - started
         ‚Üì
–°–æ–∑–¥–∞–µ—Ç—Å—è summary —Å –∏—Ç–æ–≥–æ–≤–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π
```

**–§–∏–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**:
```php
[
    'status' => 'completed',
    'finished_at' => '2024-11-04 16:05:30',
    'duration_seconds' => 330,     // 5 –º–∏–Ω 30 —Å–µ–∫
    'total_items' => 100,
    'created_count' => 75,
    'updated_count' => 20,
    'error_count' => 5,
    'summary' => '{
        "total": 100,
        "created": 75,
        "updated": 20,
        "errors": 5,
        "success_rate": 95.0,
        "file": "export_04_11_2025__15_32_15.json",
        "format": "json"
    }'
]
```

---

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ ImportBatch

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | int | ID –±–∞—Ç—á–∞ |
| `source` | string | –ò—Å—Ç–æ—á–Ω–∏–∫: `poizon`, `manual`, `api` |
| `type` | string | –¢–∏–ø: `full`, `update`, `sizes` |
| `status` | string | –°—Ç–∞—Ç—É—Å: `pending`, `processing`, `completed`, `failed` |
| `started_at` | datetime | –í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ |
| `finished_at` | datetime | –í—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è |
| `duration_seconds` | int | –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ —Å–µ–∫—É–Ω–¥–∞—Ö |
| `total_items` | int | –í—Å–µ–≥–æ —Ç–æ–≤–∞—Ä–æ–≤ |
| `created_count` | int | –°–æ–∑–¥–∞–Ω–æ —Ç–æ–≤–∞—Ä–æ–≤ |
| `updated_count` | int | –û–±–Ω–æ–≤–ª–µ–Ω–æ —Ç–æ–≤–∞—Ä–æ–≤ |
| `error_count` | int | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫ |
| `created_by` | int | ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `config` | json | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏–º–ø–æ—Ä—Ç–∞ |
| `summary` | json | –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ |
| `error_message` | text | –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ (–µ—Å–ª–∏ failed) |

---

## üé® –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –≤ UI

### –î–∞—à–±–æ—Ä–¥ Poizon (`/admin/poizon-import`)

**–ò—Å—Ç–æ—Ä–∏—è –∏–º–ø–æ—Ä—Ç–æ–≤**:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –ò—Å—Ç–æ—Ä–∏—è –∏–º–ø–æ—Ä—Ç–æ–≤                                        ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ #123  üü¢ –ó–∞–≤–µ—Ä—à–µ–Ω   2024-11-04 16:05   –°–æ–∑–¥–∞–Ω–æ: 75     ‚îÇ
‚îÇ       ‚è± 5 –º–∏–Ω 30 —Å–µ–∫                   –û–±–Ω–æ–≤–ª–µ–Ω–æ: 20   ‚îÇ
‚îÇ       üë§ admin                          –û—à–∏–±–æ–∫: 5       ‚îÇ
‚îÇ       üìÅ export_04_11_2025.json                         ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ #122  üü° –í –ø—Ä–æ—Ü–µ—Å—Å–µ  2024-11-04 15:50  –°–æ–∑–¥–∞–Ω–æ: 30     ‚îÇ
‚îÇ       ‚è± –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è...                 –û–±–Ω–æ–≤–ª–µ–Ω–æ: 15   ‚îÇ
‚îÇ       üë§ admin                          –û—à–∏–±–æ–∫: 1       ‚îÇ
‚îÇ       üìÅ test_import.json                               ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ #121  üî¥ –û—à–∏–±–∫–∞      2024-11-04 15:30  –°–æ–∑–¥–∞–Ω–æ: 0      ‚îÇ
‚îÇ       ‚è± 2 —Å–µ–∫                          –û–±–Ω–æ–≤–ª–µ–Ω–æ: 0    ‚îÇ
‚îÇ       üë§ manager                        –û—à–∏–±–æ–∫: 1       ‚îÇ
‚îÇ       ‚ö†Ô∏è –û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON                          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**Badge –∫–ª–∞—Å—Å—ã**:
```php
$statusBadges = [
    'pending' => 'bg-secondary',     // –°–µ—Ä—ã–π
    'processing' => 'bg-primary',    // –°–∏–Ω–∏–π
    'completed' => 'bg-success',     // –ó–µ–ª–µ–Ω—ã–π
    'failed' => 'bg-danger',         // –ö—Ä–∞—Å–Ω—ã–π
];
```

---

## üîç –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–µ—Ç–∞–ª–µ–π –±–∞—Ç—á–∞

### –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (`/admin/poizon-view?id=123`)

```
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
                    –ë–∞—Ç—á –∏–º–ø–æ—Ä—Ç–∞ #123
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

–°—Ç–∞—Ç—É—Å:           üü¢ –ó–∞–≤–µ—Ä—à–µ–Ω
–ò—Å—Ç–æ—á–Ω–∏–∫:         Poizon API
–¢–∏–ø –∏–º–ø–æ—Ä—Ç–∞:      –ü–æ–ª–Ω—ã–π –∏–º–ø–æ—Ä—Ç
–ó–∞–ø—É—â–µ–Ω:          admin (#1)
–í—Ä–µ–º—è:            2024-11-04 16:00:00 - 16:05:30
–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:     5 –º–∏–Ω 30 —Å–µ–∫

‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
                      –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

–í—Å–µ–≥–æ —Ç–æ–≤–∞—Ä–æ–≤:    100
–°–æ–∑–¥–∞–Ω–æ:          75  (75%)
–û–±–Ω–æ–≤–ª–µ–Ω–æ:        20  (20%)
–û—à–∏–±–æ–∫:           5   (5%)
–£—Å–ø–µ—à–Ω–æ—Å—Ç—å:       95.0%

‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
                     –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

–§–∞–π–ª:             export_04_11_2025__15_32_15.json
–§–æ—Ä–º–∞—Ç:           JSON
–¢–∏–ø:              file_upload

‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
                        –û—à–∏–±–∫–∏
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

‚ùå [2024-11-04 16:02:15] –û—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞: SKU —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
   –¢–æ–≤–∞—Ä: Nike Air Max 90 (SKU-12345)

‚ùå [2024-11-04 16:03:20] –û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞
   –¢–æ–≤–∞—Ä: Adidas Yeezy 350 (SKU-67890)

[–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –ª–æ–≥–∏ ‚Üí]

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
```

---

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### Success Rate (–ø—Ä–æ—Ü–µ–Ω—Ç —É—Å–ø–µ—Ö–∞)

```php
$successRate = (($created + $updated) / $total) * 100;
```

**–ü—Ä–∏–º–µ—Ä—ã**:
- 100 —Ç–æ–≤–∞—Ä–æ–≤: 75 —Å–æ–∑–¥–∞–Ω–æ, 20 –æ–±–Ω–æ–≤–ª–µ–Ω–æ, 5 –æ—à–∏–±–æ–∫ ‚Üí **95% —É—Å–ø–µ—Ö**
- 50 —Ç–æ–≤–∞—Ä–æ–≤: 50 —Å–æ–∑–¥–∞–Ω–æ, 0 –æ–±–Ω–æ–≤–ª–µ–Ω–æ, 0 –æ—à–∏–±–æ–∫ ‚Üí **100% —É—Å–ø–µ—Ö**
- 200 —Ç–æ–≤–∞—Ä–æ–≤: 150 —Å–æ–∑–¥–∞–Ω–æ, 30 –æ–±–Ω–æ–≤–ª–µ–Ω–æ, 20 –æ—à–∏–±–æ–∫ ‚Üí **90% —É—Å–ø–µ—Ö**

### –°—Ä–µ–¥–Ω—è—è —Å–∫–æ—Ä–æ—Å—Ç—å –∏–º–ø–æ—Ä—Ç–∞

```php
$speed = $total_items / $duration_seconds;
```

**–ü—Ä–∏–º–µ—Ä—ã**:
- 100 —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞ 330 —Å–µ–∫ ‚Üí **0.3 —Ç–æ–≤–∞—Ä–∞/—Å–µ–∫** –∏–ª–∏ **18 —Ç–æ–≤–∞—Ä–æ–≤/–º–∏–Ω**
- 500 —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞ 900 —Å–µ–∫ ‚Üí **0.55 —Ç–æ–≤–∞—Ä–∞/—Å–µ–∫** –∏–ª–∏ **33 —Ç–æ–≤–∞—Ä–∞/–º–∏–Ω**

---

## üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### Flash-—Å–æ–æ–±—â–µ–Ω–∏—è

**–ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞**:
```php
Yii::$app->session->setFlash('success', 
    '–§–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω. –ò–º–ø–æ—Ä—Ç –∑–∞–ø—É—â–µ–Ω –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –≤ "–î–∞—à–±–æ—Ä–¥ Poizon"'
);
```

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç**:
```
‚úÖ –§–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω. –ò–º–ø–æ—Ä—Ç –∑–∞–ø—É—â–µ–Ω –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ. 
   –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –≤ "–î–∞—à–±–æ—Ä–¥ Poizon"
```

---

## üõ†Ô∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 1. –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ —á–µ—Ä–µ–∑ UI

1. –û—Ç–∫—Ä–æ–π—Ç–µ **üì¶ –¢–æ–≤–∞—Ä—ã ‚Üí ‚ñ∂Ô∏è –ó–∞–ø—É—Å—Ç–∏—Ç—å –∏–º–ø–æ—Ä—Ç**
2. –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–∞–π–ª –≤ –æ–±–ª–∞—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏
3. –ù–∞–∂–º–∏—Ç–µ **"–ó–∞–≥—Ä—É–∑–∏—Ç—å –∏ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å"**
4. –£–≤–∏–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ: "–§–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω. –ò–º–ø–æ—Ä—Ç –∑–∞–ø—É—â–µ–Ω..."
5. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **üì¶ –¢–æ–≤–∞—Ä—ã ‚Üí üéöÔ∏è –î–∞—à–±–æ—Ä–¥ Poizon**
6. –ù–∞–π–¥–∏—Ç–µ —Å–≤–æ–π –∏–º–ø–æ—Ä—Ç –≤ –∏—Å—Ç–æ—Ä–∏–∏
7. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å (üü° –í –ø—Ä–æ—Ü–µ—Å—Å–µ –∏–ª–∏ üü¢ –ó–∞–≤–µ—Ä—à–µ–Ω)

### 2. –ö–æ–Ω—Å–æ–ª—å–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞

```bash
php yii poizon-import/from-file \
    --file=/path/to/export.json \
    --userId=1
```

**–í—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª–∏**:
```
üìÅ –ò–º–ø–æ—Ä—Ç –∏–∑ —Ñ–∞–π–ª–∞: export.json

‚úÖ –°–æ–∑–¥–∞–Ω batch –∏–º–ø–æ—Ä—Ç–∞ #125
   –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: 1

üì¶ –ù–∞–π–¥–µ–Ω–æ —Ç–æ–≤–∞—Ä–æ–≤ –≤ —Ñ–∞–π–ª–µ: 100

‚úÖ –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω: Nike Dunk Low
‚úÖ –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω: Nike Air Max
üîÑ –û–±–Ω–æ–≤–ª–µ–Ω: Adidas Yeezy 350
‚ùå –û—à–∏–±–∫–∞: SKU already exists
...

‚úÖ –ò–º–ø–æ—Ä—Ç –∑–∞–≤–µ—Ä—à–µ–Ω!
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
Batch ID: 125
–°–æ–∑–¥–∞–Ω–æ: 75
–û–±–Ω–æ–≤–ª–µ–Ω–æ: 20
–û—à–∏–±–æ–∫: 5
–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 5 –º–∏–Ω 30 —Å–µ–∫
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –≤ –ë–î

```sql
-- –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∏–º–ø–æ—Ä—Ç—ã
SELECT id, status, created_count, updated_count, error_count, 
       started_at, finished_at, duration_seconds
FROM import_batch
ORDER BY created_at DESC
LIMIT 10;

-- –ò–º–ø–æ—Ä—Ç—ã —Å –æ—à–∏–±–∫–∞–º–∏
SELECT id, error_message, error_count
FROM import_batch
WHERE status = 'failed' OR error_count > 0
ORDER BY created_at DESC;

-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
SELECT created_by, COUNT(*) as total_imports,
       SUM(created_count) as total_created,
       SUM(updated_count) as total_updated,
       SUM(error_count) as total_errors
FROM import_batch
GROUP BY created_by;
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –£—Å–ø–µ—à–Ω—ã–π –∏–º–ø–æ—Ä—Ç

1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª —Å 10 —Ç–æ–≤–∞—Ä–∞–º–∏
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–∑–¥–∞–Ω–∏–µ batch: `status = 'processing'`
3. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (~30 —Å–µ–∫)
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ: `status = 'completed'`
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ: `created_count = 10`, `error_count = 0`
6. –û—Ç–∫—Ä–æ–π—Ç–µ –¥–∞—à–±–æ—Ä–¥: —É–≤–∏–¥–∏—Ç–µ üü¢ –ó–∞–≤–µ—Ä—à–µ–Ω

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ò–º–ø–æ—Ä—Ç —Å –æ—à–∏–±–∫–∞–º–∏

1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª —Å –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ: `status = 'processing'`
3. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ: `status = 'completed'`, `error_count > 0`
5. –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –±–∞—Ç—á–∞
6. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –æ—à–∏–±–æ–∫ –≤ ImportLog

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞

1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π JSON
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ: `status = 'processing'`
3. –ò–º–ø–æ—Ä—Ç —Å—Ä–∞–∑—É —É–ø–∞–¥–µ—Ç
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ: `status = 'failed'`
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ: `error_message` —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–ø–∏—Å–∞–Ω–∏–µ
6. –î–∞—à–±–æ—Ä–¥ –ø–æ–∫–∞–∂–µ—Ç: üî¥ –û—à–∏–±–∫–∞

---

## üí° –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

1. **–ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏** ‚Üí —Å—Ä–∞–∑—É –æ—Ç–∫—Ä–æ–π—Ç–µ –î–∞—à–±–æ—Ä–¥ Poizon
2. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å—Ç–∞—Ç—É—Å** –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫ –¥–ª—è –±–æ–ª—å—à–∏—Ö –∏–º–ø–æ—Ä—Ç–æ–≤
3. **–ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö** ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –±–∞—Ç—á–∞ –¥–ª—è –¥–µ—Ç–∞–ª–µ–π
4. **–°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ Batch ID** –¥–ª—è –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç–∏

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤

1. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –∏–º–ø–æ—Ä—Ç—ã** –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
2. **–ê–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ error_count** –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º
3. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ duration** –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
4. **–ê—Ä—Ö–∏–≤–∏—Ä—É–π—Ç–µ —Å—Ç–∞—Ä—ã–µ –±–∞—Ç—á–∏** (>30 –¥–Ω–µ–π)

---

## üéâ –ò—Ç–æ–≥

### –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è

```
–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞
    ‚Üì
–°–æ–∑–¥–∞–Ω–∏–µ ImportBatch (status: processing)
    ‚Üì
–ò–º–ø–æ—Ä—Ç —Ç–æ–≤–∞—Ä–æ–≤ + –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
    ‚Üì
–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
    ‚Üì
–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ (status: completed/failed)
    ‚Üì
–ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ –î–∞—à–±–æ—Ä–¥–µ
    ‚Üì
–ê–Ω–∞–ª–∏–∑ –æ—à–∏–±–æ–∫ (–µ—Å–ª–∏ –µ—Å—Ç—å)
```

**–¢–µ–ø–µ—Ä—å –≤—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç–µ –∫–∞–∂–¥—ã–π –∏–º–ø–æ—Ä—Ç!** üéØ

---

**–ê–≤—Ç–æ—Ä**: Cascade AI Assistant  
**–î–∞—Ç–∞**: 04.11.2024  
**–°—Ç–∞—Ç—É—Å**: Production Ready ‚úÖ
