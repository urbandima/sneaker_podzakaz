# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–º–ø–æ—Ä—Ç–∞ —Ä–∞–∑–º–µ—Ä–æ–≤ –∏–∑ Poizon

**–î–∞—Ç–∞:** 2025-11-05  
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ Poizon –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–ª—Å—è —Ç–æ–ª—å–∫–æ 1 —Ä–∞–∑–º–µ—Ä –≤–º–µ—Å—Ç–æ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö

## üìã –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

–ü—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ JSON —Ñ–∞–π–ª–∞ Poizon (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ URL `https://storage.yandexcloud.net/.../export_04_11_2025__15_32_15.json`) –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–ª—Å—è —Ç–æ–ª—å–∫–æ **–æ–¥–∏–Ω —Ä–∞–∑–º–µ—Ä**, —Ö–æ—Ç—è –≤ JSON –±—ã–ª–æ –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ä–∞–∑–º–µ—Ä–æ–≤.

### –ü—Ä–∏–º–µ—Ä
–î–ª—è —Ç–æ–≤–∞—Ä–∞ Nike Dunk Low –≤ JSON –±—ã–ª–æ **21 —Ä–∞–∑–º–µ—Ä**, –Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–ª—Å—è —Ç–æ–ª—å–∫–æ **1 —Ä–∞–∑–º–µ—Ä**.

## üîç –ü—Ä–∏—á–∏–Ω–∞

–í —Ñ–∞–π–ª–µ `/commands/PoizonImportJsonController.php` –≤ –º–µ—Ç–æ–¥–µ `importSizes()` –±—ã–ª–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞:

```php
foreach ($children as $childData) {
    // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ
    if (empty($childData['available'])) {
        continue; // ‚ùå –≠—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–ø—É—Å–∫–∞–ª–∞ –≤—Å–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã
    }
    // ...
}
```

–≠—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ **—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–ª–∞ —Ä–∞–∑–º–µ—Ä—ã** –ø–æ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –µ—â–µ –¥–æ –∏–º–ø–æ—Ä—Ç–∞, –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–ª–∏—Å—å —Ç–æ–ª—å–∫–æ –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã. –ï—Å–ª–∏ –ø–µ—Ä–≤—ã–π —Ä–∞–∑–º–µ—Ä –≤ –º–∞—Å—Å–∏–≤–µ –±—ã–ª –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω (`available: false`), –æ–Ω –ø—Ä–æ–ø—É—Å–∫–∞–ª—Å—è.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. –£–±—Ä–∞–ª —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –ø–æ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏

**–ë—ã–ª–æ:**
```php
foreach ($children as $childData) {
    // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ
    if (empty($childData['available'])) {
        continue;
    }
    // ...
}
```

**–°—Ç–∞–ª–æ:**
```php
foreach ($children as $childData) {
    // –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –í–°–ï —Ä–∞–∑–º–µ—Ä—ã (–¥–∞–∂–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ), —á—Ç–æ–±—ã –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π –∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç
    // –§–ª–∞–≥ is_available –±—É–¥–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –Ω–∏–∂–µ
    // ...
}
```

–¢–µ–ø–µ—Ä—å –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è **–í–°–ï —Ä–∞–∑–º–µ—Ä—ã**, –∞ —Ñ–ª–∞–≥ `is_available` –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è:
```php
$size->is_available = !empty($childData['available']) ? 1 : 0;
```

### 2. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ —Å `ImportLog`**: –∑–∞–º–µ–Ω–∏–ª `details` –Ω–∞ `error_details` (–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏–º—è –ø–æ–ª—è)
- **–£–±—Ä–∞–Ω–∞ —Å—Ç–∞—Ä–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫**: —É–¥–∞–ª–µ–Ω –º–µ—Ç–æ–¥ `importCharacteristics()`, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Ç–∞–±–ª–∏—Ü—É `product_characteristic`

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- Nike Dunk Low –º—É–∂—Å–∫–∏–µ: **1 —Ä–∞–∑–º–µ—Ä**
- –ù–∞–π–∫ –î–∞–Ω–∫ –∂–µ–Ω—Å–∫–∏–µ: **1 —Ä–∞–∑–º–µ—Ä**
- Nike Kobe 8: **1 —Ä–∞–∑–º–µ—Ä**
- Nike Zoom Fly 6: **1 —Ä–∞–∑–º–µ—Ä**
- **–ò—Ç–æ–≥–æ: 4 —Ä–∞–∑–º–µ—Ä–∞**

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- Nike Dunk Low –º—É–∂—Å–∫–∏–µ: **23 —Ä–∞–∑–º–µ—Ä–∞** (18 –¥–æ—Å—Ç—É–ø–Ω—ã—Ö, 5 –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã—Ö)
- –ù–∞–π–∫ –î–∞–Ω–∫ –∂–µ–Ω—Å–∫–∏–µ: **15 —Ä–∞–∑–º–µ—Ä–æ–≤** (13 –¥–æ—Å—Ç—É–ø–Ω—ã—Ö, 2 –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã—Ö)
- Nike Kobe 8: **24 —Ä–∞–∑–º–µ—Ä–∞** (17 –¥–æ—Å—Ç—É–ø–Ω—ã—Ö, 7 –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã—Ö)
- Nike Zoom Fly 6: **20 —Ä–∞–∑–º–µ—Ä–æ–≤** (15 –¥–æ—Å—Ç—É–ø–Ω—ã—Ö, 5 –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã—Ö)
- **–ò—Ç–æ–≥–æ: 82 —Ä–∞–∑–º–µ—Ä–∞** ‚úÖ

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏–º–ø–æ—Ä—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É:

```bash
php yii poizon-import-json/run https://storage.yandexcloud.net/poizon-exports/site/81988f42-8231-43d7-b4ed-bd70ddf56f06/c8cb6cd8-8970-4b01-976f-9407dea04f9c/export_04_11_2025__15_32_15.json
```

–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:
```bash
php check_import.php
```

## üìù –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

1. `/commands/PoizonImportJsonController.php`
   - –°—Ç—Ä–æ–∫–∞ 795-796: —É–±—Ä–∞–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `if (empty($childData['available']))`
   - –°—Ç—Ä–æ–∫–∞ 277-286: –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –ª–æ–≥ –æ—à–∏–±–æ–∫
   - –°—Ç—Ä–æ–∫–∞ 571-574: —É–±—Ä–∞–Ω –≤—ã–∑–æ–≤ —Å—Ç–∞—Ä–æ–π —Å–∏—Å—Ç–µ–º—ã —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫
   - –°—Ç—Ä–æ–∫–∞ 10: —É–¥–∞–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `ProductCharacteristic`
   - –£–¥–∞–ª–µ–Ω –º–µ—Ç–æ–¥ `importCharacteristics()`

## ‚úÖ –°—Ç–∞—Ç—É—Å

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ** ‚úÖ

–ò–º–ø–æ—Ä—Ç —Ç–æ–≤–∞—Ä–æ–≤ —Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ —Ä–∞–∑–º–µ—Ä—ã –∏–∑ JSON —Ñ–∞–π–ª–∞.
