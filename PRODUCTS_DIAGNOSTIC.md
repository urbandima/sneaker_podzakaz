# –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞: –ü–æ—á–µ–º—É –ø—Ä–æ–ø–∞–ª–∏ –∫–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤

**–î–∞—Ç–∞:** 05.11.2024, 10:31  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–†–û–ë–õ–ï–ú–ê –ù–ê–ô–î–ï–ù–ê**

---

## üîç –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

### –°–æ—Å—Ç–æ—è–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:

```
üì¶ –í—Å–µ–≥–æ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –ë–î: 1
‚úÖ –ê–∫—Ç–∏–≤–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤: 1
‚ùå –ù–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤: 0
üè∑Ô∏è –ë—Ä–µ–Ω–¥–æ–≤ –≤ –ë–î: 8
üìÇ –ö–∞—Ç–µ–≥–æ—Ä–∏–π –≤ –ë–î: 7
üñºÔ∏è –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Ç–æ–≤–∞—Ä–æ–≤: 6
üìè –†–∞–∑–º–µ—Ä–æ–≤ —Ç–æ–≤–∞—Ä–æ–≤: 0
```

### –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Ç–æ–≤–∞—Ä –≤ –ë–î:
```
[1] –ö—Ä–æ—Å—Å–æ–≤–∫–∏ Nike Dunk Low
- –ê–∫—Ç–∏–≤–µ–Ω: ‚úÖ –î–∞
- –ë—Ä–µ–Ω–¥: Nike
- –ö–∞—Ç–µ–≥–æ—Ä–∏—è: –ö—Ä–æ—Å—Å–æ–≤–∫–∏ –∏ –∫–µ–¥—ã
- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ: ‚úÖ –ï—Å—Ç—å
- –†–∞–∑–º–µ—Ä—ã: ‚ùå –ù–µ—Ç (0 —Ä–∞–∑–º–µ—Ä–æ–≤)
```

---

## üí° –í–´–í–û–î

### ‚ö†Ô∏è –í –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —Ç–æ–ª—å–∫–æ 1 —Ç–µ—Å—Ç–æ–≤—ã–π —Ç–æ–≤–∞—Ä!

**–ö–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤ –ù–ï "–ø—Ä–æ–ø–∞–ª–∏"** - –∏—Ö –ø—Ä–æ—Å—Ç–æ **–Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –±—ã–ª–æ** –≤ –ë–î.

–≠—Ç–æ **–Ω–æ—Ä–º–∞–ª—å–Ω–∞—è —Å–∏—Ç—É–∞—Ü–∏—è** –¥–ª—è –Ω–æ–≤–æ–π/—Ç–µ—Å—Ç–æ–≤–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–∏—Å—Ç–µ–º—ã.

---

## üéØ –ü—Ä–∏—á–∏–Ω—ã –ø–æ—á–µ–º—É —Ç–æ–≤–∞—Ä–æ–≤ –Ω–µ—Ç:

### 1. **–ù–æ–≤–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∏—Å—Ç–µ–º—ã**
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Ç–æ–ª—å–∫–æ —á—Ç–æ —Å–æ–∑–¥–∞–Ω–∞
- –ú–∏–≥—Ä–∞—Ü–∏–∏ —Ç–æ–ª—å–∫–æ —á—Ç–æ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
- –ï—Å—Ç—å —Ç–æ–ª—å–∫–æ 1 —Ç–µ—Å—Ç–æ–≤—ã–π —Ç–æ–≤–∞—Ä –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

### 2. **–ò–º–ø–æ—Ä—Ç –∏–∑ Poizon –Ω–µ –±—ã–ª –∑–∞–ø—É—â–µ–Ω**
- –¢–æ–≤–∞—Ä—ã –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –∏–∑ –≤–Ω–µ—à–Ω–µ–π —Å–∏—Å—Ç–µ–º—ã Poizon
- –ò–º–ø–æ—Ä—Ç –Ω—É–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –≤—Ä—É—á–Ω—É—é –∏–ª–∏ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
- –ë–µ–∑ –∏–º–ø–æ—Ä—Ç–∞ –≤ –ë–î —Ç–æ–ª—å–∫–æ —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

### 3. **–î–∞–Ω–Ω—ã–µ –Ω–µ –±—ã–ª–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã**
- –ù–µ –±—ã–ª –∑–∞–ø—É—â–µ–Ω —Å–∫—Ä–∏–ø—Ç –∏–º–ø–æ—Ä—Ç–∞
- –ù–µ –±—ã–ª —É–∫–∞–∑–∞–Ω URL –∫ JSON —Ñ–∞–π–ª—É —Å —Ç–æ–≤–∞—Ä–∞–º–∏
- –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã, –Ω–æ –ø—É—Å—Ç—ã

---

## ‚úÖ –†–ï–®–ï–ù–ò–ï

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò–º–ø–æ—Ä—Ç —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ Poizon (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –ò–º–ø–æ—Ä—Ç –∏–∑ JSON —Ñ–∞–π–ª–∞
php yii poizon-import-json/run "https://storage.yandexcloud.net/.../export.json"

# –ò–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª
php yii poizon-import-json/run "/path/to/export.json"
```

**–ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç:**
- ‚úÖ –ò–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –≤—Å–µ —Ç–æ–≤–∞—Ä—ã –∏–∑ JSON
- ‚úÖ –°–æ–∑–¥–∞–¥—É—Ç—Å—è –±—Ä–µ–Ω–¥—ã –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- ‚úÖ –ó–∞–≥—Ä—É–∑—è—Ç—Å—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- ‚úÖ –ó–∞–ø–æ–ª–Ω—è—Ç—Å—è —Ä–∞–∑–º–µ—Ä—ã —Å —Ü–µ–Ω–∞–º–∏
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –≤—Å–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
- ‚úÖ –ö–∞—Ä—Ç–æ—á–∫–∏ –ø–æ—è–≤—è—Ç—Å—è –Ω–∞ —Å–∞–π—Ç–µ

### –í–∞—Ä–∏–∞–Ω—Ç 2: –°–æ–∑–¥–∞—Ç—å —Ç–æ–≤–∞—Ä—ã –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É

```
http://your-domain.com/admin/products
‚Üí –ö–Ω–æ–ø–∫–∞ "–°–æ–∑–¥–∞—Ç—å —Ç–æ–≤–∞—Ä"
‚Üí –ó–∞–ø–æ–ª–Ω–∏—Ç—å –≤—Å–µ –ø–æ–ª—è
‚Üí –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
```

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –î–æ–ª–≥–æ (–∫–∞–∂–¥—ã–π —Ç–æ–≤–∞—Ä –≤—Ä—É—á–Ω—É—é)
- ‚ùå –ú–Ω–æ–≥–æ –ø–æ–ª–µ–π –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è
- ‚ùå –ù—É–∂–Ω–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤—Ä—É—á–Ω—É—é

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ —Ç–æ–≤–∞—Ä–∞–º–∏
php yii migrate/up --migrationPath=@app/migrations/test_data
```

**–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç:**
- 20-30 —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤
- –° –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
- –° —Ä–∞–∑–º–µ—Ä–∞–º–∏
- –° —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏

---

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–∞

–ü–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–∞ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É:

```bash
php check_products.php
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üì¶ –í—Å–µ–≥–æ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –ë–î: 100+ (–∏–ª–∏ —Å–∫–æ–ª—å–∫–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–ª–∏)
‚úÖ –ê–∫—Ç–∏–≤–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤: 100+
üñºÔ∏è –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Ç–æ–≤–∞—Ä–æ–≤: 300+
üìè –†–∞–∑–º–µ—Ä–æ–≤ —Ç–æ–≤–∞—Ä–æ–≤: 500+
```

---

## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–∞–π—Ç–µ

–ü–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–∞ –æ—Ç–∫—Ä–æ–π—Ç–µ:

### 1. –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
```
http://your-domain.com/
```
**–î–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è:**
- ‚úÖ –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã
- ‚úÖ –ù–æ–≤–∏–Ω–∫–∏
- ‚úÖ –•–∏—Ç—ã –ø—Ä–æ–¥–∞–∂

### 2. –ö–∞—Ç–∞–ª–æ–≥
```
http://your-domain.com/catalog
```
**–î–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è:**
- ‚úÖ –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
- ‚úÖ –§–∏–ª—å—Ç—Ä—ã –ø–æ –±—Ä–µ–Ω–¥–∞–º
- ‚úÖ –§–∏–ª—å—Ç—Ä—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- ‚úÖ –¶–µ–Ω—ã –∏ –∫–Ω–æ–ø–∫–∏ "–ö—É–ø–∏—Ç—å"

### 3. –ö–∞—Ä—Ç–æ—á–∫–∞ —Ç–æ–≤–∞—Ä–∞
```
http://your-domain.com/catalog/product/[slug]
```
**–î–æ–ª–∂–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è:**
- ‚úÖ –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞
- ‚úÖ –†–∞–∑–º–µ—Ä—ã —Å —Ü–µ–Ω–∞–º–∏
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Ä–∞–∑–º–µ—Ä–æ–≤ EU/US/UK/CM
- ‚úÖ –í—Å–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏

---

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –¥–µ–π—Å—Ç–≤–∏—è

### 1. –ü–æ–ª—É—á–∏—Ç–µ JSON —Ñ–∞–π–ª —Å —Ç–æ–≤–∞—Ä–∞–º–∏ –æ—Ç Poizon

–§–∞–π–ª –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É:
```json
{
  "categories": [...],
  "brands": [...],
  "products": [
    {
      "productId": "123",
      "title": "Nike Air Max 90",
      "price": 150,
      "images": [...],
      "sizes": [...],
      "children": [...]
    }
  ]
}
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏–º–ø–æ—Ä—Ç

```bash
cd /Users/user/CascadeProjects/splitwise

php yii poizon-import-json/run "URL_–ò–õ–ò_–ü–£–¢–¨_–ö_JSON"
```

### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç

```bash
php check_products.php
```

### 4. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç

```
http://your-domain.com/catalog
```

---

## üîß –ï—Å–ª–∏ –∏–º–ø–æ—Ä—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
```bash
tail -f runtime/logs/poizon-import-*.log
```

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ JSON:
```bash
curl -I "URL_TO_JSON"
# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å 200 OK
```

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç JSON:
```bash
php -r "json_decode(file_get_contents('file.json')); echo json_last_error() === JSON_ERROR_NONE ? 'OK' : 'ERROR';"
```

---

## üìù –ò—Ç–æ–≥

**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–∞—Ä—Ç–æ—á–∫–∏ "–ø—Ä–æ–ø–∞–ª–∏"  
**–ù–∞ —Å–∞–º–æ–º –¥–µ–ª–µ:** –ò—Ö –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –±—ã–ª–æ - —ç—Ç–æ —á–∏—Å—Ç–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞  
**–†–µ—à–µ–Ω–∏–µ:** –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–≤–∞—Ä—ã –∏–∑ Poizon  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤–∞ –∫ –∏–º–ø–æ—Ä—Ç—É  

**–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –ø—Ä–∏–Ω—è—Ç—å —Ç–æ–≤–∞—Ä—ã!**

---

**–í—Ä–µ–º—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:** 05.11.2024, 10:31  
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–∞  
**–î–µ–π—Å—Ç–≤–∏–µ:** –ó–∞–ø—É—Å—Ç–∏—Ç—å –∏–º–ø–æ—Ä—Ç —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ Poizon
