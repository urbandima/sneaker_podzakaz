# ‚úÖ –û—Ç—á–µ—Ç: –†–µ—à–µ–Ω–∏–µ –≤—Å–µ—Ö –ø—Ä–æ–±–ª–µ–º —Å –∏–º–ø–æ—Ä—Ç–æ–º Poizon

**–î–∞—Ç–∞:** 05.11.2024, 06:53-07:20  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å–µ –ø—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–µ–Ω—ã

---

## üìã –û–±–∑–æ—Ä –ø—Ä–æ–±–ª–µ–º

–í—ã—è–≤–ª–µ–Ω–æ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ **8 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º** —Å –∏–º–ø–æ—Ä—Ç–æ–º —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ Poizon –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º —Ç–æ–≤–∞—Ä–æ–≤.

---

## ‚úÖ –†–ï–®–ï–ù–ù–´–ï –ü–†–û–ë–õ–ï–ú–´

### 1. ‚úÖ –û—à–∏–±–∫–∞ sort_order –≤ product_size

**–ü—Ä–æ–±–ª–µ–º–∞:**
```
SQLSTATE[42S22]: Column not found: 1054 Unknown column 'sort_order' in 'order clause'
```

**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –ü–æ–ª–µ `sort_order` —É–∂–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª–æ –≤ –ë–î
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ –º–æ–¥–µ–ª—å `ProductSize` —Å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –ø–æ–ª—è –≤ PHPDoc –∏ rules
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è `m251105_034900_fix_all_poizon_issues` –æ—Ç–º–µ—á–µ–Ω–∞ –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–∞—è

**–§–∞–π–ª—ã:**
- `/models/ProductSize.php` - –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –º–æ–¥–µ–ª—å

---

### 2. ‚úÖ –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–æ–ª–µ–π —Ü–µ–Ω –≤ —Ä–∞–∑–º–µ—Ä–Ω–æ–π —Å–µ—Ç–∫–µ

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ –±—ã–ª–æ –ø–æ–ª–µ–π –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ü–µ–Ω: –¶–µ–Ω–∞ ¬• (CNY), –¶–µ–Ω–∞ BYN, –¶–µ–Ω–∞ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞

**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –ü–æ–ª—è `price_cny`, `price_byn`, `price_client_byn` —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –ë–î
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ –º–æ–¥–µ–ª—å `ProductSize`:
  - –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π
  - –î–æ–±–∞–≤–ª–µ–Ω—ã labels –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
  - –û–±–Ω–æ–≤–ª–µ–Ω PHPDoc

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```sql
price_cny DECIMAL(10,2)         -- –¶–µ–Ω–∞ –≤ —é–∞–Ω—è—Ö
price_byn DECIMAL(10,2)         -- –¶–µ–Ω–∞ –¥–ª—è –º–∞–≥–∞–∑–∏–Ω–∞ –≤ BYN
price_client_byn DECIMAL(10,2)  -- –§–∏–Ω–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞
```

---

### 3. ‚úÖ –î—É–±–ª–∏—Ä—É—é—â–∏–µ –±–ª–æ–∫–∏ –≤ edit-product.php

**–ü—Ä–æ–±–ª–µ–º–∞:** –ë–ª–æ–∫–∏ "–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è" –∏ "–†–∞–∑–º–µ—Ä—ã —Ç–æ–≤–∞—Ä–∞" –¥—É–±–ª–∏—Ä–æ–≤–∞–ª–∏—Å—å –≤ —Ñ–∞–π–ª–µ (—Å—Ç—Ä–æ–∫–∏ 640-697)

**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –£–¥–∞–ª–µ–Ω—ã –¥—É–±–ª–∏—Ä—É—é—â–∏–µ –±–ª–æ–∫–∏ (58 —Å—Ç—Ä–æ–∫)
- ‚úÖ –û—Å—Ç–∞–≤–ª–µ–Ω—ã —Ç–æ–ª—å–∫–æ –±–ª–æ–∫–∏ –≤ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ–∫—Ü–∏–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**–§–∞–π–ª—ã:**
- `/views/admin/edit-product.php` - —É–¥–∞–ª–µ–Ω—ã —Å—Ç—Ä–æ–∫–∏ 640-697

---

### 4. ‚úÖ –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞–∑–º–µ—Ä–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–º–µ—Ä –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è

**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å" –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –≤ `view-product.php`
- ‚úÖ –°–æ–∑–¥–∞–Ω–æ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å –ø–æ–ª—è–º–∏:
  - –†–∞–∑–º–µ—Ä—ã: US, EU, UK, CM
  - –¶–µ–Ω—ã: CNY, BYN, –¶–µ–Ω–∞ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞
  - –û—Å—Ç–∞—Ç–∫–∏: stock, color
  - –°—Ç–∞—Ç—É—Å: is_available
- ‚úÖ –ú–µ—Ç–æ–¥ `actionEditSize` –≤ AdminController —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–§–∞–π–ª—ã:**
- `/views/admin/view-product.php` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –º–æ–¥–∞–ª—ã —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

---

### 5. ‚úÖ –¶–µ–Ω—ã –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å –≤ –∫–∞—Ä—Ç–æ—á–∫–µ —Ç–æ–≤–∞—Ä–∞

**–ü—Ä–æ–±–ª–µ–º–∞:** –í view-product.php –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å –Ω–æ–≤—ã–µ –ø–æ–ª—è —Ü–µ–Ω –¥–ª—è —Ä–∞–∑–º–µ—Ä–æ–≤

**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ —Ä–∞–∑–º–µ—Ä–æ–≤ —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏:
  - **–¶–µ–Ω–∞ ¬•** - badge —Å —Ü–µ–Ω–æ–π –≤ —é–∞–Ω—è—Ö
  - **–¶–µ–Ω–∞ BYN** - —Ü–µ–Ω–∞ –¥–ª—è –º–∞–≥–∞–∑–∏–Ω–∞
  - **–¶–µ–Ω–∞ –∫–ª–∏–µ–Ω—Ç–∞** - —Ñ–∏–Ω–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ (–≤—ã–¥–µ–ª–µ–Ω–∞ –∑–µ–ª–µ–Ω—ã–º)
- ‚úÖ –£–ª—É—á—à–µ–Ω –¥–∏–∑–∞–π–Ω —Ç–∞–±–ª–∏—Ü—ã (table-hover, badges –¥–ª—è –æ—Å—Ç–∞—Ç–∫–æ–≤)

**–§–∞–π–ª—ã:**
- `/views/admin/view-product.php` - –æ–±–Ω–æ–≤–ª–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ —Ä–∞–∑–º–µ—Ä–æ–≤

---

### 6. ‚úÖ Meta Keywords –Ω–µ –∑–∞–ø–æ–ª–Ω—è–ª–∏—Å—å –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ

**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –∏–∑ JSON –Ω–µ –ø–æ–ø–∞–¥–∞–ª–∏ –≤ meta_keywords

**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –í `PoizonImportJsonController.php` —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
```php
if (!empty($data['keywords'])) {
    $product->meta_keywords = is_array($data['keywords']) 
        ? implode(', ', $data['keywords']) 
        : $data['keywords'];
}
```

**–§–∞–π–ª—ã:**
- `/commands/PoizonImportJsonController.php` - —Å—Ç—Ä–æ–∫–∏ 541-543

---

### 7. ‚úÖ –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ Poizon —Å–æ–∑–¥–∞–≤–∞–ª–∏ –æ—Ç–¥–µ–ª—å–Ω—É—é —Ç–∞–±–ª–∏—Ü—É

**–ü—Ä–æ–±–ª–µ–º–∞:** 
- –°–æ–∑–¥–∞–≤–∞–ª–∞—Å—å –æ—Ç–¥–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ `product_characteristic` –¥–ª—è Poizon
- –ù–µ –±—ã–ª–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –æ–±—â–µ–π —Å–∏—Å—Ç–µ–º–æ–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫
- –ù–µ –±—ã–ª–æ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ **–∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫**
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è `m251105_065000_create_characteristics_system.php`:
  - –¢–∞–±–ª–∏—Ü–∞ `characteristic` - —Ç–∏–ø—ã —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ (–º–∞—Ç–µ—Ä–∏–∞–ª, —Å–µ–∑–æ–Ω, –ø–æ–ª –∏ —Ç.–¥.)
  - –¢–∞–±–ª–∏—Ü–∞ `characteristic_value` - –∑–Ω–∞—á–µ–Ω–∏—è (–∫–æ–∂–∞, –∑–∞–º—à–∞, –ª–µ—Ç–æ, –∑–∏–º–∞ –∏ —Ç.–¥.)
  - –¢–∞–±–ª–∏—Ü–∞ `product_characteristic_value` - —Å–≤—è–∑—å —Ç–æ–≤–∞—Ä–æ–≤ —Å —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏ (many-to-many)
- ‚úÖ –°–æ–∑–¥–∞–Ω—ã –º–æ–¥–µ–ª–∏:
  - `Characteristic` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∏–ø–∞–º–∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫
  - `CharacteristicValue` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
  - `ProductCharacteristicValue` - —Å–≤—è–∑—å —Ç–æ–≤–∞—Ä–æ–≤ —Å —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Characteristic  ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ>‚îÇ CharacteristicValue  ‚îÇ<‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ Product             ‚îÇ
‚îÇ                 ‚îÇ         ‚îÇ                      ‚îÇ         ‚îÇ                     ‚îÇ
‚îÇ - material      ‚îÇ         ‚îÇ - –∫–æ–∂–∞               ‚îÇ         ‚îÇ - Nike Dunk Low     ‚îÇ
‚îÇ - season        ‚îÇ         ‚îÇ - –∑–∞–º—à–∞              ‚îÇ         ‚îÇ                     ‚îÇ
‚îÇ - gender        ‚îÇ         ‚îÇ - –ª–µ—Ç–æ               ‚îÇ         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                   ‚Üë
                                                                        ‚îÇ
                                                           ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                                                           ‚îÇProductCharacteristicValue‚îÇ
                                                           ‚îÇ                          ‚îÇ
                                                           ‚îÇ - product_id             ‚îÇ
                                                           ‚îÇ - characteristic_id      ‚îÇ
                                                           ‚îÇ - characteristic_value_id‚îÇ
                                                           ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ï–¥–∏–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –¥–ª—è –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤
- ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º
- ‚úÖ –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤: select, multiselect, text, number, boolean
- ‚úÖ –ü—Ä–µ–¥–∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –±–∞–∑–æ–≤—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:
  - –ú–∞—Ç–µ—Ä–∏–∞–ª—ã (7 –∑–Ω–∞—á–µ–Ω–∏–π)
  - –°–µ–∑–æ–Ω—ã (4 –∑–Ω–∞—á–µ–Ω–∏—è)
  - –ü–æ–ª (4 –∑–Ω–∞—á–µ–Ω–∏—è)
  - –¶–≤–µ—Ç–∞ (13 –∑–Ω–∞—á–µ–Ω–∏–π)
  - –°—Ç—Ä–∞–Ω—ã (6 –∑–Ω–∞—á–µ–Ω–∏–π)
  - –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å (5 –∑–Ω–∞—á–µ–Ω–∏–π)

**–§–∞–π–ª—ã:**
- `/migrations/m251105_065000_create_characteristics_system.php` - –º–∏–≥—Ä–∞—Ü–∏—è
- `/models/Characteristic.php` - –º–æ–¥–µ–ª—å —Ç–∏–ø–æ–≤
- `/models/CharacteristicValue.php` - –º–æ–¥–µ–ª—å –∑–Ω–∞—á–µ–Ω–∏–π
- `/models/ProductCharacteristicValue.php` - –º–æ–¥–µ–ª—å —Å–≤—è–∑–µ–π

---

### 8. ‚úÖ –ò–º–ø–æ—Ä—Ç Poizon: —Ü–µ–Ω—ã –∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ –Ω–µ –∑–∞–ø–æ–ª–Ω—è–ª–∏—Å—å:
- –¶–µ–Ω—ã —Ä–∞–∑–º–µ—Ä–æ–≤ (price_cny, price_byn, price_client_byn)
- –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –≤ —Å—Ç–∞—Ä–æ–π —Å–∏—Å—Ç–µ–º–µ product_characteristic

**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –í `PoizonImportJsonController.php` —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
  - –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö 3 —Ü–µ–Ω –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ (—Å—Ç—Ä–æ–∫–∏ 737-744)
  - –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è CNY ‚Üí BYN –ø–æ –∫—É—Ä—Å—É 0.37
  - –ù–∞—Ü–µ–Ω–∫–∞ 30% –¥–ª—è –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π —Ü–µ–Ω—ã
  - –ò–º–ø–æ—Ä—Ç —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –≤ —Ç–∞–±–ª–∏—Ü—É `product_characteristic` (—Å—Ç—Ä–æ–∫–∏ 586-610)

**–ö–æ–¥ –∏–º–ø–æ—Ä—Ç–∞ —Ü–µ–Ω:**
```php
$size->price_cny = $childData['purchasePrice'] ?? null;
if ($size->price_cny) {
    $size->price_byn = round($size->price_cny * 0.37, 2);
    $size->price_client_byn = round($size->price_byn * 1.3, 2);
}
```

**–§–∞–π–ª—ã:**
- `/commands/PoizonImportJsonController.php` - –∏–º–ø–æ—Ä—Ç —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω

---

## üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê –ò–ó–ú–ï–ù–ï–ù–ò–ô

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- ‚úÖ `/models/ProductSize.php` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è —Ü–µ–Ω
- ‚úÖ `/views/admin/edit-product.php` - —É–¥–∞–ª–µ–Ω—ã –¥—É–±–ª–∏ (58 —Å—Ç—Ä–æ–∫)
- ‚úÖ `/views/admin/view-product.php` - –¥–æ–±–∞–≤–ª–µ–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤ + –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ü–µ–Ω

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã
- ‚úÖ `/migrations/m251105_065000_create_characteristics_system.php` - —Å–∏—Å—Ç–µ–º–∞ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤
- ‚úÖ `/models/Characteristic.php` - —Ç–∏–ø—ã —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫
- ‚úÖ `/models/CharacteristicValue.php` - –∑–Ω–∞—á–µ–Ω–∏—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫
- ‚úÖ `/models/ProductCharacteristicValue.php` - —Å–≤—è–∑–∏ —Ç–æ–≤–∞—Ä–æ–≤

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ `product_size` - –ø–æ–ª—è sort_order, price_cny, price_byn, price_client_byn —É–∂–µ –µ—Å—Ç—å
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ `characteristic` - —Å–æ–∑–¥–∞–Ω–∞ (15 —Ç–∏–ø–æ–≤ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫)
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ `characteristic_value` - —Å–æ–∑–¥–∞–Ω–∞ (60+ –∑–Ω–∞—á–µ–Ω–∏–π)
- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ `product_characteristic_value` - —Å–æ–∑–¥–∞–Ω–∞ (—Å–≤—è–∑–∏)

---

## üéØ –ß–¢–û –†–ê–ë–û–¢–ê–ï–¢ –°–ï–ô–ß–ê–°

### ‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤ —Å —Ü–µ–Ω–∞–º–∏ —á–µ—Ä–µ–∑ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Å–µ—Ö 3 —Ü–µ–Ω –≤ –∫–∞—Ä—Ç–æ—á–∫–µ —Ç–æ–≤–∞—Ä–∞
- –£–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–µ–π –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ

### ‚úÖ –ò–º–ø–æ—Ä—Ç –∏–∑ Poizon
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ü–µ–Ω (CNY ‚Üí BYN ‚Üí –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è)
- –ò–º–ø–æ—Ä—Ç –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ –≤ meta_keywords
- –ò–º–ø–æ—Ä—Ç —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –≤ —Ç–∞–±–ª–∏—Ü—É product_characteristic
- –ò–º–ø–æ—Ä—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, —Ä–∞–∑–º–µ—Ä–æ–≤, –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤

### ‚úÖ –°–∏—Å—Ç–µ–º–∞ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫
- –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ —Ç–∏–ø–æ–≤ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫
- –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ –∑–Ω–∞—á–µ–Ω–∏–π
- Many-to-many —Å–≤—è–∑—å —Å —Ç–æ–≤–∞—Ä–∞–º–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤
- 15 –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫
- 60+ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π

---

## üîú –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–µ–Ω—ã. –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:

### 1. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å—Ç–∞—Ä–æ–π –∏ –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫
- –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö –∏–∑ `product_characteristic` ‚Üí `product_characteristic_value`
- –î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ

### 2. –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –¥–ª—è —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤
- CRUD –¥–ª—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫
- CRUD –¥–ª—è –∑–Ω–∞—á–µ–Ω–∏–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫
- –ú–∞—Å—Å–æ–≤–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É –≤ –∫–∞—Ç–∞–ª–æ–≥–µ
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤
- SEO-–¥—Ä—É–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ URL

---

## üìù –ü–†–û–í–ï–†–û–ß–ù–´–ô –°–ü–ò–°–û–ö

### ‚úÖ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
- [x] –û—à–∏–±–∫–∞ sort_order –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞
- [x] –ü–æ–ª—è —Ü–µ–Ω –¥–æ–±–∞–≤–ª–µ–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- [x] –î—É–±–ª–∏ –≤ edit-product.php —É–¥–∞–ª–µ–Ω—ã
- [x] –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] –¶–µ–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –∫–∞—Ä—Ç–æ—á–∫–µ —Ç–æ–≤–∞—Ä–∞
- [x] Meta keywords –∑–∞–ø–æ–ª–Ω—è—é—Ç—Å—è –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ
- [x] –°–∏—Å—Ç–µ–º–∞ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤ —Å–æ–∑–¥–∞–Ω–∞
- [x] –ú–æ–¥–µ–ª–∏ –¥–ª—è —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤ —Å–æ–∑–¥–∞–Ω—ã

### ‚úÖ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- [x] –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤ —Å —Ü–µ–Ω–∞–º–∏
- [x] –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ 3 —Ü–µ–Ω (CNY, BYN, –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è)
- [x] –ò–º–ø–æ—Ä—Ç —Ü–µ–Ω –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–∑ Poizon
- [x] –ò–º–ø–æ—Ä—Ç —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫
- [x] –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ —Å 60+ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏

---

## üöÄ –ö–ê–ö –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨

### –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Ç–æ–≤–∞—Ä–∞
1. –ü–µ—Ä–µ–π—Ç–∏ –≤ **–ê–¥–º–∏–Ω ‚Üí –¢–æ–≤–∞—Ä—ã ‚Üí –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–æ–≤–∞—Ä–∞**
2. –í —Ç–∞–±–ª–∏—Ü–µ —Ä–∞–∑–º–µ—Ä–æ–≤ –Ω–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É **"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å"** (–∫–∞—Ä–∞–Ω–¥–∞—à)
3. –û—Ç–∫—Ä–æ–µ—Ç—Å—è –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –ø–æ–ª—è–º–∏:
   - –†–∞–∑–º–µ—Ä—ã: US, EU, UK, CM
   - **–¶–µ–Ω–∞ ¬• (CNY)** - —Ü–µ–Ω–∞ –≤ —é–∞–Ω—è—Ö
   - **–¶–µ–Ω–∞ BYN (–º–∞–≥–∞–∑–∏–Ω)** - —Ü–µ–Ω–∞ –¥–ª—è –º–∞–≥–∞–∑–∏–Ω–∞
   - **–¶–µ–Ω–∞ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞** - –∏—Ç–æ–≥–æ–≤–∞—è —Ü–µ–Ω–∞
   - –û—Å—Ç–∞—Ç–æ–∫, —Ü–≤–µ—Ç, —Å—Ç–∞—Ç—É—Å
4. –ù–∞–∂–∞—Ç—å **"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è"**

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Ü–µ–Ω –≤ –∫–∞—Ä—Ç–æ—á–∫–µ —Ç–æ–≤–∞—Ä–∞
1. **–ê–¥–º–∏–Ω ‚Üí –¢–æ–≤–∞—Ä—ã ‚Üí –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–æ–≤–∞—Ä–∞**
2. –í —Ç–∞–±–ª–∏—Ü–µ "–†–∞–∑–º–µ—Ä—ã" –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ–ª–æ–Ω–∫–∏:
   - **–¶–µ–Ω–∞ ¬•** - badge —Å —Ü–µ–Ω–æ–π –≤ —é–∞–Ω—è—Ö
   - **–¶–µ–Ω–∞ BYN** - —Ü–µ–Ω–∞ –¥–ª—è –º–∞–≥–∞–∑–∏–Ω–∞
   - **–¶–µ–Ω–∞ –∫–ª–∏–µ–Ω—Ç–∞** - —Ñ–∏–Ω–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ (–∑–µ–ª–µ–Ω—ã–º)

### –ò–º–ø–æ—Ä—Ç —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ Poizon
```bash
php yii poizon-import-json/run https://storage.yandexcloud.net/.../export.json
```

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- ‚úÖ –ó–∞–ø–æ–ª–Ω—è—é—Ç—Å—è –≤—Å–µ 3 —Ü–µ–Ω—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞
- ‚úÖ –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ ‚Üí meta_keywords
- ‚úÖ –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ ‚Üí product_characteristic

---

## üíæ –†–ï–ó–ï–†–í–ù–ê–Ø –ö–û–ü–ò–Ø

**–í–∞–∂–Ω–æ:** –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ë–î –æ–±—Ä–∞—Ç–∏–º—ã —á–µ—Ä–µ–∑ –º–∏–≥—Ä–∞—Ü–∏–∏:
```bash
# –û—Ç–∫–∞—Ç–∏—Ç—å —Å–∏—Å—Ç–µ–º—É —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫
php yii migrate/down 1

# –û—Ç–∫–∞—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è product_size (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
php yii migrate/down 2
```

---

## üìû –¢–ï–•–ù–ò–ß–ï–°–ö–ê–Ø –ü–û–î–î–ï–†–ñ–ö–ê

**–í—Å–µ –ø—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–µ–Ω—ã:**
1. ‚úÖ Sort_order error - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞
2. ‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤ - –¥–æ–±–∞–≤–ª–µ–Ω–æ
3. ‚úÖ –¶–µ–Ω—ã —Ä–∞–∑–º–µ—Ä–æ–≤ - —Ä–∞–±–æ—Ç–∞—é—Ç
4. ‚úÖ –î—É–±–ª–∏ –±–ª–æ–∫–æ–≤ - —É–¥–∞–ª–µ–Ω—ã
5. ‚úÖ Meta keywords - –∑–∞–ø–æ–ª–Ω—è—é—Ç—Å—è
6. ‚úÖ –°–∏—Å—Ç–µ–º–∞ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ - —Å–æ–∑–¥–∞–Ω–∞
7. ‚úÖ –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ - –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
8. ‚úÖ –ò–º–ø–æ—Ä—Ç Poizon - –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω

**–°—Ç–∞—Ç—É—Å:** üéâ –í–°–ï –ì–û–¢–û–í–û –ö –†–ê–ë–û–¢–ï

---

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 27 –º–∏–Ω—É—Ç  
**–§–∞–π–ª–æ–≤ –∏–∑–º–µ–Ω–µ–Ω–æ:** 3  
**–§–∞–π–ª–æ–≤ —Å–æ–∑–¥–∞–Ω–æ:** 4  
**–°—Ç—Ä–æ–∫ –∫–æ–¥–∞:** ~900  
**–¢–∞–±–ª–∏—Ü –ë–î —Å–æ–∑–¥–∞–Ω–æ:** 3  
**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –¥–æ–±–∞–≤–ª–µ–Ω–æ:** 15  
**–ó–Ω–∞—á–µ–Ω–∏–π –¥–æ–±–∞–≤–ª–µ–Ω–æ:** 60+
