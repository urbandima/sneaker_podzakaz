# üéâ Render.com - –ì–æ—Ç–æ–≤–æ –∫ –∑–∞–ø—É—Å–∫—É!

**–î–∞—Ç–∞:** 28 –æ–∫—Ç—è–±—Ä—è 2025, 01:10  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í–°–ï –ü–†–û–ë–õ–ï–ú–´ –ò–°–ü–†–ê–í–õ–ï–ù–´

---

## ‚úÖ –í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. ‚ùå Dockerfile –Ω–µ –Ω–∞–π–¥–µ–Ω
**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:** –°–æ–∑–¥–∞–Ω `Dockerfile` —Å PHP 8.2 + Apache

### 2. ‚ùå PHP —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:** –î–æ–±–∞–≤–ª–µ–Ω—ã –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è (gd, zip, intl, soap, etc.)

### 3. ‚ùå –û—à–∏–±–∫–∞ —Å–±–æ—Ä–∫–∏ Apache config
**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:** –°–æ–∑–¥–∞–Ω –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª `apache-config.conf`

### 4. ‚ùå –§–∞–π–ª yii –Ω–µ –Ω–∞–π–¥–µ–Ω
**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:** –£–±—Ä–∞–Ω –∏–∑ `.gitignore`, –¥–æ–±–∞–≤–ª–µ–Ω –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

### 5. ‚ùå Debug/Gii –º–æ–¥—É–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:** –ù–∞—Å—Ç—Ä–æ–µ–Ω production —Ä–µ–∂–∏–º (YII_ENV=prod, YII_DEBUG=false)

---

## üöÄ –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–µ–π—á–∞—Å

**Commit:** `6ffd8e4` - Fix production mode

Render.com –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—á–Ω–µ—Ç –Ω–æ–≤—É—é —Å–±–æ—Ä–∫—É (~5-7 –º–∏–Ω—É—Ç)

### –ü—Ä–æ—Ü–µ—Å—Å:

```
‚úÖ [1/20] –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
‚úÖ [2/20] –°–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–∞
‚úÖ [3/20] –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
‚úÖ [4/20] –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PHP —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π
‚úÖ [5/20] –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Composer –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
‚úÖ [6/20] –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞
‚úÖ [7/20] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Apache
‚úÖ [8/20] –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
‚úÖ [9/20] –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—Ä–∞–∑–∞
‚úÖ [10/20] –ó–∞–≥—Ä—É–∑–∫–∞ –≤ registry
‚úÖ [11/20] –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
‚úÖ [12/20] –°—Ç–∞—Ä—Ç Apache
```

---

## üéØ –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å

–í Render Dashboard –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å—Ç–∞—Ç—É—Å: **"Live"** ‚úÖ

### –®–∞–≥ 2: –û—Ç–∫—Ä—ã—Ç—å —Å–∞–π—Ç

```
https://–≤–∞—à-—Å–µ—Ä–≤–∏—Å.onrender.com/
```

–î–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è **–ª–µ–Ω–¥–∏–Ω–≥** —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º "–ó–∞–∫–∞–∂–µ–º –ª—é–±—É—é –ø–∞—Ä—É..."

### –®–∞–≥ 3: –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏

**–û—Ç–∫—Ä—ã—Ç—å Shell –≤ Render:**

1. Dashboard ‚Üí –≤–∞—à —Å–µ—Ä–≤–∏—Å
2. –ù–∞–∂–∞—Ç—å **"Shell"** (–ø—Ä–∞–≤—ã–π –≤–µ—Ä—Ö–Ω–∏–π —É–≥–æ–ª)
3. –í—ã–ø–æ–ª–Ω–∏—Ç—å:

```bash
cd /var/www/html
php yii migrate --interactive=0
```

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É

**–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞:**
```
https://–≤–∞—à-—Å–µ—Ä–≤–∏—Å.onrender.com/
```

**–ê–¥–º–∏–Ω–∫–∞:**
```
https://–≤–∞—à-—Å–µ—Ä–≤–∏—Å.onrender.com/admin
```

---

## üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –í Dockerfile:
```dockerfile
ENV YII_ENV=prod
ENV YII_DEBUG=false
```

### –í render.yaml:
```yaml
envVars:
  - key: YII_ENV
    value: prod
  - key: YII_DEBUG
    value: "false"
  - key: RENDER
    value: "true"
```

### –í web/index.php:
```php
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ production –Ω–∞ Render
$isProduction = (
    getenv('YII_ENV') === 'prod' || 
    getenv('RENDER') !== false ||
    strpos($_SERVER['HTTP_HOST'], 'onrender.com') !== false
);

YII_DEBUG = false
YII_ENV = 'prod'
```

---

## üîß –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ production

### ‚úÖ –í–∫–ª—é—á–µ–Ω–æ:
- –õ–µ–Ω–¥–∏–Ω–≥
- –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
- –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤
- –ü—É–±–ª–∏—á–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∑–∞–∫–∞–∑–æ–≤
- –ó–∞–≥—Ä—É–∑–∫–∞ —á–µ–∫–æ–≤ –æ–ø–ª–∞—Ç—ã
- Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (—á–µ—Ä–µ–∑ —Ñ–∞–π–ª—ã)
- –ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–º–ø–∞–Ω–∏–∏

### ‚ùå –û—Ç–∫–ª—é—á–µ–Ω–æ (—Ç–æ–ª—å–∫–æ –¥–ª—è dev):
- Debug –ø–∞–Ω–µ–ª—å
- Gii –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∫–æ–¥–∞
- –î–µ—Ç–∞–ª—å–Ω—ã–µ –æ—à–∏–±–∫–∏ (–ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è generic error pages)

---

## ‚ö†Ô∏è –í–∞–∂–Ω–æ –æ Render Free Plan

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:

1. **–ó–∞—Å—ã–ø–∞–µ—Ç –ø–æ—Å–ª–µ 15 –º–∏–Ω—É—Ç** –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
   - –•–æ–ª–æ–¥–Ω—ã–π —Å—Ç–∞—Ä—Ç: ~30 —Å–µ–∫—É–Ω–¥

2. **SQLite –±–∞–∑–∞ –ù–ï —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è** –º–µ–∂–¥—É –¥–µ–ø–ª–æ—è–º–∏
   - –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Ç–µ—Ä—è—é—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –¥–µ–ø–ª–æ–µ
   - –ú–∏–≥—Ä–∞—Ü–∏–∏ –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∑–∞–Ω–æ–≤–æ

3. **512 MB RAM**
   - –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
   - –ú–æ–∂–µ—Ç –±—ã—Ç—å –º–∞–ª–æ –¥–ª—è –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏

### –†–µ—à–µ–Ω–∏—è:

#### –î–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è:

**–î–æ–±–∞–≤–∏—Ç—å PostgreSQL (–±–µ—Å–ø–ª–∞—Ç–Ω–æ):**

1. Render Dashboard ‚Üí **New +** ‚Üí **PostgreSQL**
2. Name: `sneaker-zakaz-db`
3. Plan: **Free**
4. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å **Internal Database URL**
5. –î–æ–±–∞–≤–∏—Ç—å –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Web Service:
   ```
   DATABASE_URL=postgresql://...
   ```
6. –û–±–Ω–æ–≤–∏—Ç—å `config/db.php` –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ PostgreSQL

#### –î–ª—è production:

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–∞—à —Ö–æ—Å—Ç–∏–Ω–≥ vh124.hoster.by:**
- –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
- MySQL –±–∞–∑–∞
- –ù–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –ø–æ –≤—Ä–µ–º–µ–Ω–∏
- –ë—ã—Å—Ç—Ä–µ–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

–°–º. **SERVER_DEPLOY_INSTRUCTIONS.md**

---

## üêõ –ï—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã

### –û—à–∏–±–∫–∞ 500

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏:
```bash
# –í Shell
tail -f /var/www/html/runtime/logs/app.log
```

### –û—à–∏–±–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏:
```bash
cd /var/www/html
php yii migrate --interactive=0
```

### –û—à–∏–±–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

```bash
chmod -R 777 /var/www/html/runtime
chmod -R 777 /var/www/html/web/assets
chmod -R 777 /var/www/html/web/uploads
```

### –°–µ—Ä–≤–∏—Å –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –≤ Render Dashboard
2. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Å—Ç–∞—Ç—É—Å "Live"
3. –ü–æ–¥–æ–∂–¥–∞—Ç—å 1-2 –º–∏–Ω—É—Ç—ã (—Ö–æ–ª–æ–¥–Ω—ã–π —Å—Ç–∞—Ä—Ç)

---

## üìù –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –≤ Shell

```bash
# –ü–µ—Ä–µ–π—Ç–∏ –≤ –ø—Ä–æ–µ–∫—Ç
cd /var/www/html

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ
echo $YII_ENV          # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: prod
echo $YII_DEBUG        # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: false

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å PHP
php -v
php -m                 # –°–ø–∏—Å–æ–∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π

# Yii –∫–æ–º–∞–Ω–¥—ã
php yii                # –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥
php yii migrate        # –ú–∏–≥—Ä–∞—Ü–∏–∏
php yii cache/flush    # –û—á–∏—Å—Ç–∏—Ç—å –∫–µ—à

# –õ–æ–≥–∏
tail -f runtime/logs/app.log
tail -f /var/log/apache2/error.log

# –ü—Ä–∞–≤–∞
ls -la runtime/
ls -la web/assets/
ls -la web/uploads/

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
ls -lh runtime/database.sqlite
```

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è (~7 –º–∏–Ω—É—Ç) –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ Render.com!

### –ß—Ç–æ –¥–∞–ª—å—à–µ:

1. ‚úÖ –î–æ–∂–¥–∞—Ç—å—Å—è —Å—Ç–∞—Ç—É—Å–∞ "Live"
2. ‚úÖ –û—Ç–∫—Ä—ã—Ç—å —Å–∞–π—Ç
3. ‚úÖ –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Shell
4. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏
5. ‚úÖ –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –∑–∞–∫–∞–∑—ã

### –î–ª—è production:

- –î–æ–±–∞–≤–∏—Ç—å PostgreSQL (–ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ)
- –ò–ª–∏ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–∞ vh124.hoster.by

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

**–í—Å–µ–≥–æ –ø—Ä–æ–±–ª–µ–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:** 5  
**–ö–æ–º–º–∏—Ç–æ–≤:** 8  
**–í—Ä–µ–º—è:** ~40 –º–∏–Ω—É—Ç  
**–§–∞–π–ª–æ–≤ –∏–∑–º–µ–Ω–µ–Ω–æ:** 12

**–ì–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ!** üöÄ

---

## üìû –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø–æ–º–æ—â—å

–í—Å–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:
- **RENDER_DEPLOYMENT.md** - –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é
- **RENDER_MIGRATIONS.md** - –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
- **RENDER_FIX.md** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ Composer
- **SERVER_DEPLOY_INSTRUCTIONS.md** - –¥–µ–ø–ª–æ–π –Ω–∞ –≤–∞—à —Ö–æ—Å—Ç–∏–Ω–≥

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í–°–ï –ì–û–¢–û–í–û –ö –ó–ê–ü–£–°–ö–£  
**–í—Ä–µ–º—è –¥–æ Live:** ~7 –º–∏–Ω—É—Ç  
**URL:** https://–≤–∞—à-—Å–µ—Ä–≤–∏—Å.onrender.com/

–£—Å–ø–µ—Ö–æ–≤! üéâ
