# üóÑÔ∏è –ó–∞–ø—É—Å–∫ –º–∏–≥—Ä–∞—Ü–∏–π –Ω–∞ Render.com

**–ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è –Ω—É–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –≤—Ä—É—á–Ω—É—é**

---

## ‚úÖ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### –ü—Ä–æ–±–ª–µ–º–∞:
```
Could not open input file: /var/www/html/yii
```

### –†–µ—à–µ–Ω–∏–µ:
1. ‚úÖ –£–±—Ä–∞–ª–∏ `/yii` –∏–∑ `.gitignore`
2. ‚úÖ –î–æ–±–∞–≤–∏–ª–∏ —Ñ–∞–π–ª `yii` –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
3. ‚úÖ –£–ø—Ä–æ—Å—Ç–∏–ª–∏ `docker-entrypoint.sh` (—É–±—Ä–∞–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏)

---

## üöÄ –®–∞–≥–∏ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

### –®–∞–≥ 1: –î–æ–∂–¥–∞—Ç—å—Å—è —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è

–í Render Dashboard ‚Üí Logs –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
```
========================================
Starting Sneaker Zakaz Application
========================================
Using default port 80
WARNING: Database not found. You may need to run migrations manually.
Starting Apache web server...
========================================
[success] Server started
```

### –®–∞–≥ 2: –û—Ç–∫—Ä—ã—Ç—å Shell –≤ Render

1. –û—Ç–∫—Ä—ã—Ç—å Render Dashboard
2. –í—ã–±—Ä–∞—Ç—å –≤–∞—à —Å–µ—Ä–≤–∏—Å
3. –ù–∞–∂–∞—Ç—å **"Shell"** –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Render CLI:
```bash
render ssh sneaker-zakaz
```

### –®–∞–≥ 3: –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏

–í –æ—Ç–∫—Ä—ã—Ç–æ–º Shell –≤—ã–ø–æ–ª–Ω–∏—Ç—å:

```bash
# –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd /var/www/html

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ñ–∞–π–ª yii —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
ls -la yii

# –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
php yii migrate --interactive=0
```

–î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏:
```
*** applying m241023_181500_create_users_table
    > create table users ... done (time: 0.123s)
*** applying m241023_181600_create_orders_table
    > create table orders ... done (time: 0.098s)
...
6 migrations applied successfully.
```

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ë–î —Å–æ–∑–¥–∞–Ω–∞
ls -lh runtime/database.sqlite

# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä:
# -rw-r--r-- 1 www-data www-data 40K Oct 28 01:05 runtime/database.sqlite
```

---

## üéØ –ü–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–π

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å–∞–π—Ç–∞

1. **–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞:**
   ```
   https://–≤–∞—à-—Å–µ—Ä–≤–∏—Å.onrender.com/
   ```
   –î–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è –ª–µ–Ω–¥–∏–Ω–≥

2. **–ê–¥–º–∏–Ω–∫–∞:**
   ```
   https://–≤–∞—à-—Å–µ—Ä–≤–∏—Å.onrender.com/admin
   ```
   –î–æ–ª–∂–Ω–∞ –æ—Ç–∫—Ä—ã—Ç—å—Å—è —Ñ–æ—Ä–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

3. **–°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –∑–∞–∫–∞–∑:**
   - –í–æ–π—Ç–∏ –≤ –∞–¥–º–∏–Ω–∫—É
   - –°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—É–±–ª–∏—á–Ω—É—é —Å—Å—ã–ª–∫—É

---

## ‚ö†Ô∏è –í–∞–∂–Ω–æ –æ Render Free Plan

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö SQLite

–ù–∞ **Free –ø–ª–∞–Ω–µ** —Ñ–∞–π–ª—ã **–Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è** –º–µ–∂–¥—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–º–∏!

–≠—Ç–æ –∑–Ω–∞—á–∏—Ç:
- ‚ùå –ü—Ä–∏ –∫–∞–∂–¥–æ–º –¥–µ–ø–ª–æ–µ –ë–î —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è
- ‚ùå –í—Å–µ –∑–∞–∫–∞–∑—ã —Ç–µ—Ä—è—é—Ç—Å—è
- ‚ùå –ù–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è production

### –†–µ—à–µ–Ω–∏—è:

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –î–æ–±–∞–≤–∏—Ç—å PostgreSQL (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –í Render Dashboard ‚Üí **New +** ‚Üí **PostgreSQL**
2. Name: `sneaker-zakaz-db`
3. Plan: **Free**
4. –°–æ–∑–¥–∞—Ç—å

5. –ü–æ–ª—É—á–∏—Ç—å **Internal Database URL**

6. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Web Service –¥–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é:
   ```
   DATABASE_URL=postgresql://user:pass@host:5432/dbname
   ```

7. –û–±–Ω–æ–≤–∏—Ç—å `config/db.php`:
   ```php
   <?php
   $databaseUrl = getenv('DATABASE_URL');
   if ($databaseUrl) {
       $db = parse_url($databaseUrl);
       return [
           'class' => 'yii\db\Connection',
           'dsn' => sprintf('pgsql:host=%s;port=%s;dbname=%s',
               $db['host'],
               $db['port'],
               ltrim($db['path'], '/')
           ),
           'username' => $db['user'],
           'password' => $db['pass'],
           'charset' => 'utf8',
       ];
   }
   
   // Fallback to SQLite
   return [
       'class' => 'yii\db\Connection',
       'dsn' => 'sqlite:' . __DIR__ . '/../runtime/database.sqlite',
       'charset' => 'utf8',
   ];
   ```

8. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å pdo_pgsql —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ (—É–∂–µ –µ—Å—Ç—å –≤ Dockerfile)

9. –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ —Å–Ω–æ–≤–∞:
   ```bash
   php yii migrate --interactive=0
   ```

#### –í–∞—Ä–∏–∞–Ω—Ç 2: –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–ï—Å–ª–∏ —ç—Ç–æ —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ—Å—Ç–æ–≤:
- SQLite —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ
- –ü—Ä–æ—Å—Ç–æ –ø–æ–º–Ω–∏—Ç–µ, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ —Å–±—Ä–æ—Å—è—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –¥–µ–ø–ª–æ–µ

#### –í–∞—Ä–∏–∞–Ω—Ç 3: Production –¥–µ–ø–ª–æ–π

–î–ª—è –Ω–∞—Å—Ç–æ—è—â–µ–≥–æ production –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
- **–í–∞—à —Ö–æ—Å—Ç–∏–Ω–≥ vh124.hoster.by**
- –¢–∞–º —Ñ–∞–π–ª—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –Ω–∞–≤—Å–µ–≥–¥–∞
- MySQL –±–∞–∑–∞
- –ù–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π

–°–º. **SERVER_DEPLOY_INSTRUCTIONS.md**

---

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –≤–µ—Ä–Ω—É—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ:

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å `docker-entrypoint.sh`:
```bash
# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Å—Ç–∞—Ä—Ç–µ
if [ -f /var/www/html/yii ]; then
    echo "Running migrations..."
    php /var/www/html/yii migrate --interactive=0 || true
fi
```

**–ù–æ:** –¥–ª—è Render Free —ç—Ç–æ –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã, —Ç–∞–∫ –∫–∞–∫ –º–∏–≥—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

---

## üìù –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –≤ Shell

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å PHP –≤–µ—Ä—Å–∏—é
php -v

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è PHP
php -m

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
tail -f runtime/logs/app.log

# –û—á–∏—Å—Ç–∏—Ç—å –∫–µ—à
rm -rf runtime/cache/*

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞
ls -la runtime/ web/assets/ web/uploads/

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ë–î
cat config/db.php

# –ó–∞–ø—É—Å—Ç–∏—Ç—å Yii –∫–æ–Ω—Å–æ–ª—å
php yii

# –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥ Yii
php yii help
```

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–π –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Render.com!

---

## üéØ –°—Ç–∞—Ç—É—Å

**Commit:** `1bc782d`  
**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- ‚úÖ –§–∞–π–ª `yii` –¥–æ–±–∞–≤–ª–µ–Ω –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- ‚úÖ Entrypoint —É–ø—Ä–æ—â–µ–Ω
- ‚úÖ –£–±—Ä–∞–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** 
–î–æ–∂–¥–∞—Ç—å—Å—è –¥–µ–ø–ª–æ—è ‚Üí –û—Ç–∫—Ä—ã—Ç—å Shell ‚Üí –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
