# üîç –ê–£–î–ò–¢ –ì–û–¢–û–í–ù–û–°–¢–ò –ö –ü–†–û–î–ê–ö–®–ï–ù–£
**–î–∞—Ç–∞**: 2025-11-06  
**–ü—Ä–æ–µ–∫—Ç**: Sneaker E-commerce Platform  
**–°—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º

---

## üìä EXECUTIVE SUMMARY

**–í—Å–µ–≥–æ –ø—Ä–æ–±–ª–µ–º –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ**: 15  
- üî¥ **–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï** (–±–ª–æ–∫–∏—Ä—É—é—Ç –¥–µ–ø–ª–æ–π): 4
- üü† **–í–´–°–û–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢**: 5
- üü° **–°–†–ï–î–ù–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢**: 4
- üü¢ **–ù–ò–ó–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢**: 2

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: ‚ùå –ù–ï –ì–û–¢–û–í –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É –±–µ–∑ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º.

---

## üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´ (–ë–õ–û–ö–ò–†–£–Æ–¢ –î–ï–ü–õ–û–ô)

### 1. SwiftMailer –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–æ–Ω—Ñ–∏–≥–µ
**–§–∞–π–ª**: `config/web.php:71`  
**–ü—Ä–æ–±–ª–µ–º–∞**: 
```php
'mailer' => [
    'class' => 'yii\swiftmailer\Mailer',  // ‚ùå –ù–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
    ...
]
```

**–ü–æ—á–µ–º—É –∫—Ä–∏—Ç–∏—á–Ω–æ**: –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ email –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É–ø–∞–¥–µ—Ç —Å Fatal Error.

**–†–µ—à–µ–Ω–∏–µ**:
```bash
# –í composer.json —É–∫–∞–∑–∞–Ω yiisoft/yii2-symfonymailer
# –ù—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –∫–ª–∞—Å—Å –≤ config/web.php:
'mailer' => [
    'class' => 'yii\symfonymailer\Mailer',
    'viewPath' => '@app/mail',
    'useFileTransport' => (bool) env('MAIL_USE_FILE_TRANSPORT', true),
],
```

**–í—Ä–µ–º—è**: 2 –º–∏–Ω—É—Ç—ã  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P0

---

### 2. Debug console.log() –≤ production –∫–æ–¥–µ
**–§–∞–π–ª—ã**: 
- `views/layouts/main.php:342, 345, 359, 366, 391, 404, 438`
- `views/catalog/product.php:2648, 2657-2660`
- `views/catalog/index.php:1300, 1312`
- `web/js/ui-enhancements.js:251, 281, 284, 322, 330, 448`
- `views/catalog/favorites.php:477`
- `views/catalog/_size_selector.php:418`

**–ü—Ä–æ–±–ª–µ–º–∞**: 15+ –≤—ã–∑–æ–≤–æ–≤ `console.log()` –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ dropdown –º–µ–Ω—é –∏ –¥—Ä—É–≥–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

**–ü–æ—á–µ–º—É –∫—Ä–∏—Ç–∏—á–Ω–æ**: 
- –£—Ç–µ—á–∫–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ –±—Ä–∞—É–∑–µ—Ä –∫–ª–∏–µ–Ω—Ç–∞
- –°–Ω–∏–∂–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤ production
- –ù–µ–ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –≤–∏–¥ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ DevTools

**–†–µ—à–µ–Ω–∏–µ**: –£–¥–∞–ª–∏—Ç—å –í–°–ï console.log –∏–ª–∏ –æ–±–µ—Ä–Ω—É—Ç—å –≤ —É—Å–ª–æ–≤–∏–µ:
```javascript
if (typeof DEBUG !== 'undefined' && DEBUG) {
    console.log(...);
}
```

**–í—Ä–µ–º—è**: 15 –º–∏–Ω—É—Ç  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P0

---

### 3. Backup —Ñ–∞–π–ª—ã –≤ —Ä–∞–±–æ—á–µ–º –¥–µ—Ä–µ–≤–µ
**–ù–∞–π–¥–µ–Ω–æ**:
- `/views/admin/edit-product.php.backup`
- `/views/catalog/index.php.bak`
- `/views/catalog/product.php.bak`

**–ü—Ä–æ–±–ª–µ–º–∞**: Backup —Ñ–∞–π–ª—ã –∑–∞–≥—Ä—è–∑–Ω—è—é—Ç –ø—Ä–æ–¥–∞–∫—à–µ–Ω –∏ –º–æ–≥—É—Ç –±—ã—Ç—å —Å–ª—É—á–∞–π–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã.

**–†–µ—à–µ–Ω–∏–µ**:
```bash
rm /Users/user/CascadeProjects/splitwise/views/admin/edit-product.php.backup
rm /Users/user/CascadeProjects/splitwise/views/catalog/index.php.bak
rm /Users/user/CascadeProjects/splitwise/views/catalog/product.php.bak
```

**–í—Ä–µ–º—è**: 1 –º–∏–Ω—É—Ç–∞  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P0

---

### 4. TODO —Å –Ω–µ–¥–æ—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏
**–§–∞–π–ª**: `views/catalog/favorites.php:463, 476`
```javascript
// TODO: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ AJAX
// TODO: AJAX –∑–∞–ø—Ä–æ—Å –Ω–∞ —É–¥–∞–ª–µ–Ω–∏–µ
console.log('Remove from favorites:', productId);
```

**–§–∞–π–ª**: `views/catalog/_size_selector.php:417, 424`
```javascript
// TODO: Implement cart logic
alert('–¢–æ–≤–∞—Ä –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω—É!');  // ‚ùå –ó–∞–≥–ª—É—à–∫–∞ –≤–º–µ—Å—Ç–æ —Ä–µ–∞–ª—å–Ω–æ–π –ª–æ–≥–∏–∫–∏
```

**–ü—Ä–æ–±–ª–µ–º–∞**: –ö—Ä–∏—Ç–∏—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è "–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É" –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Äî —ç—Ç–æ –∑–∞–≥–ª—É—à–∫–∞!

**–ü–æ—á–µ–º—É –∫—Ä–∏—Ç–∏—á–Ω–æ**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ —Å–º–æ–∂–µ—Ç –æ—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑.

**–†–µ—à–µ–Ω–∏–µ**: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å –∫–Ω–æ–ø–∫–∏.

**–í—Ä–µ–º—è**: 2-3 —á–∞—Å–∞ –Ω–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P0

---

## üü† –í–´–°–û–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢

### 5. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ CSRF –∑–∞—â–∏—Ç—ã –¥–ª—è API endpoints
**–§–∞–π–ª—ã**: –í—Å–µ AJAX-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã (`CartController`, `FavoriteController`, `CatalogController`)

**–ü—Ä–æ–±–ª–µ–º–∞**: CSRF validation –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–∫–ª—é—á–µ–Ω–∞ –≤ Yii2, –Ω–æ –¥–ª—è AJAX –Ω—É–∂–Ω–∞ —è–≤–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ —Ç–æ–∫–µ–Ω–∞.

**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ CSRF meta-—Ç–µ–≥–æ–≤ –≤ layout:
```php
<?php $this->registerCsrfMetaTags() ?>
```

–ò –≤ AJAX –∑–∞–ø—Ä–æ—Å–∞—Ö:
```javascript
headers: {
    'X-CSRF-Token': $('meta[name="csrf-token"]').attr('content')
}
```

**–í—Ä–µ–º—è**: 30 –º–∏–Ω—É—Ç  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P1

---

### 6. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ rate limiting –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö API
**–§–∞–π–ª—ã**: `CatalogController::actionSearch()`, `CartController`, `FavoriteController`

**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ—Ç –∑–∞—â–∏—Ç—ã –æ—Ç DDoS –∏ –±—Ä—É—Ç—Ñ–æ—Ä—Å–∞.

**–†–µ—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–∏—Ç—å rate limiting:
```bash
composer require yii2-extensions/rate-limiter
```

**–í—Ä–µ–º—è**: 1 —á–∞—Å  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P1

---

### 7. 48 –º–∏–≥—Ä–∞—Ü–∏–π ‚Äî —Ä–∏—Å–∫ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –∏ –æ—à–∏–±–æ–∫
**–§–∞–π–ª**: `migrations/` (48 —Ñ–∞–π–ª–æ–≤)

**–ü—Ä–æ–±–ª–µ–º–∞**: –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –º–∏–≥—Ä–∞—Ü–∏–π, –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø—Ä–∞–≤–ª—è—é—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏–µ:
- `m251105_034900_fix_all_poizon_issues.php`
- `m251105_102000_ensure_new_fields_exist.php`
- `m251105_104000_ensure_poizon_fields_exist.php`
- `m251105_105000_comprehensive_database_fix.php`
- `m251105_106000_ensure_import_tables_exist.php`
- `m251105_107000_ensure_characteristics_tables_exist.php`

**–†–µ—à–µ–Ω–∏–µ**: 
1. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ —á–∏—Å—Ç–æ–π –ë–î
2. –û–±—ä–µ–¥–∏–Ω–∏—Ç—å "ensure_*" –º–∏–≥—Ä–∞—Ü–∏–∏ –≤ –æ–¥–Ω—É
3. –°–æ–∑–¥–∞—Ç—å `migration-squash.sql` –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

**–í—Ä–µ–º—è**: 2 —á–∞—Å–∞  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P1

---

### 8. –•–∞—Ä–¥–∫–æ–¥ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ params.php
**–§–∞–π–ª**: `config/params.php:26-35`
```php
'companyDetails' => [
    'name' => '–û–û–û "–°–Ω–∏–∫–µ—Ä–ö—É–ª—å—Ç—É—Ä–∞"',
    'unp' => '123456789',  // ‚ùå –¢–µ—Å—Ç–æ–≤—ã–π –£–ù–ü
    'bank' => '–û–ê–û "–¢–µ—Å—Ç–æ–≤—ã–π –±–∞–Ω–∫"',  // ‚ùå
    'bic' => 'TESTBY2X',  // ‚ùå
    'account' => 'BY12TEST12345678901234567890',  // ‚ùå
],
```

**–ü—Ä–æ–±–ª–µ–º–∞**: –ï—Å–ª–∏ —ç—Ç–æ —Ä–µ–∞–ª—å–Ω—ã–π –ø—Ä–æ–¥–∞–∫—à–µ–Ω, –¥–∞–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –±–æ–µ–≤—ã–º–∏.

**–†–µ—à–µ–Ω–∏–µ**: –ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã –∏–ª–∏ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –≤ `.env`.

**–í—Ä–µ–º—è**: 5 –º–∏–Ω—É—Ç  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P1

---

### 9. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –≤ PoizonApiService
**–§–∞–π–ª**: `components/PoizonApiService.php:98-100`
```php
} catch (\Exception $e) {
    Yii::error('Poizon API exception: ' . $e->getMessage(), __METHOD__);
    return ['items' => [], 'error' => $e->getMessage()];  // ‚ùå –£—Ç–µ—á–∫–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –æ—à–∏–±–∫–∏
```

**–ü—Ä–æ–±–ª–µ–º–∞**: –ü—Ä—è–º–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ exception message –≤ –æ—Ç–≤–µ—Ç ‚Äî —É—Ç–µ—á–∫–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.

**–†–µ—à–µ–Ω–∏–µ**:
```php
return ['items' => [], 'error' => '–°–µ—Ä–≤–∏—Å –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω'];
```

**–í—Ä–µ–º—è**: 5 –º–∏–Ω—É—Ç  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P1

---

## üü° –°–†–ï–î–ù–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢

### 10. –ó–∞—Ö–ª–∞–º–ª–µ–Ω–∏–µ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π
**–ù–∞–π–¥–µ–Ω–æ**: 110+ `.md` —Ñ–∞–π–ª–æ–≤ –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
```
CATALOG_ARCHITECTURE.md
CATALOG_CHECKLIST_STATUS.md
BUGFIX_2024_11_05.md
...
```

**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ–ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –≤–∏–¥, —Å–ª–æ–∂–Ω–æ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è.

**–†–µ—à–µ–Ω–∏–µ**: –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –≤ `/docs/archive/` –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ.

**–í—Ä–µ–º—è**: 30 –º–∏–Ω—É—Ç  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P2

---

### 11. –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥–æ–≤ –ë–î
**–ù–∞–π–¥–µ–Ω–æ**: 
- `config/db.php`
- `config/db-example.php`
- `config/db-local.php` (–≤ .gitignore)
- `config/db-production.php` (–≤ .gitignore)

**–ü—Ä–æ–±–ª–µ–º–∞**: –ò–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç—å, —Ä–∏—Å–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ñ–∏–≥–∞.

**–†–µ—à–µ–Ω–∏–µ**: –û—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ `db.php` —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–∑ `.env`.

**–í—Ä–µ–º—è**: 10 –º–∏–Ω—É—Ç  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P2

---

### 12. print_r() –≤ production –∫–æ–¥–µ
**–§–∞–π–ª**: `commands/TestController.php:52, 77`
```php
print_r($order->errors);  // ‚ùå –î–ª—è –æ—Ç–ª–∞–¥–∫–∏
```

**–ü—Ä–æ–±–ª–µ–º–∞**: TestController –Ω–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω –≤ production.

**–†–µ—à–µ–Ω–∏–µ**: –£–¥–∞–ª–∏—Ç—å —Ñ–∞–π–ª –∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É:
```php
if (YII_ENV === 'prod') {
    throw new \yii\base\InvalidConfigException('Test controller disabled in production');
}
```

**–í—Ä–µ–º—è**: 5 –º–∏–Ω—É—Ç  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P2

---

### 13. –£—Å—Ç–∞—Ä–µ–≤—à–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –æ Redis
**–§–∞–π–ª**: `config/web.php:22-47`
```php
// –í–†–ï–ú–ï–ù–ù–û: FileCache (–ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Redis –∑–∞–º–µ–Ω–∏—Ç—å)
// –î–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ Redis –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
// 1. composer require yiisoft/yii2-redis
...
```

**–ü—Ä–æ–±–ª–µ–º–∞**: –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ –∑–∞—Å–æ—Ä—è–µ—Ç –∫–æ–Ω—Ñ–∏–≥.

**–†–µ—à–µ–Ω–∏–µ**: –í—ã–Ω–µ—Å—Ç–∏ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å.

**–í—Ä–µ–º—è**: 5 –º–∏–Ω—É—Ç  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P2

---

## üü¢ –ù–ò–ó–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢

### 14. TODO –≤ PoizonImportController
**–§–∞–π–ª**: `commands/PoizonImportController.php:581, 594`
```php
// TODO: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω
// TODO: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤
```

**–ü—Ä–æ–±–ª–µ–º–∞**: –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω, –Ω–æ —ç—Ç–æ –∫–æ–Ω—Å–æ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã, –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ.

**–†–µ—à–µ–Ω–∏–µ**: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å –º–µ—Ç–æ–¥—ã.

**–í—Ä–µ–º—è**: N/A  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P3

---

### 15. –£—Å—Ç–∞—Ä–µ–≤—à–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –≤ composer.json
**–§–∞–π–ª**: `composer.json:6`
```json
"php": ">=7.4.0"
```

**–ü—Ä–æ–±–ª–µ–º–∞**: PHP 7.4 EOL —Å –Ω–æ—è–±—Ä—è 2022. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è PHP 8.0+.

**–†–µ—à–µ–Ω–∏–µ**: –û–±–Ω–æ–≤–∏—Ç—å –¥–æ `"php": ">=8.0"` –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å.

**–í—Ä–µ–º—è**: 1-2 —á–∞—Å–∞ –Ω–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: P3

---

## ‚úÖ –ß–¢–û –†–ê–ë–û–¢–ê–ï–¢ –•–û–†–û–®–û

1. ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: Html::encode() –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ–≤—Å–µ–º–µ—Å—Ç–Ω–æ –≤ views
2. ‚úÖ **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã/–º–æ–¥–µ–ª–∏/views
3. ‚úÖ **SEO**: Meta-—Ç–µ–≥–∏, canonical URLs, structured data
4. ‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –î–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è, eager loading, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
5. ‚úÖ **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: .env –¥–ª—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
6. ‚úÖ **.gitignore**: –ü—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω, —Å–µ–∫—Ä–µ—Ç—ã –Ω–µ –∫–æ–º–º–∏—Ç—è—Ç—Å—è
7. ‚úÖ **–ë–µ–∑ SQL-–∏–Ω—ä–µ–∫—Ü–∏–π**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è ActiveRecord –∏ prepared statements
8. ‚úÖ **–ë–µ–∑ –æ–ø–∞—Å–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π**: eval(), exec(), system() –Ω–µ –Ω–∞–π–¥–µ–Ω—ã

---

## üìã –ß–ï–ö–õ–ò–°–¢ –ü–ï–†–ï–î –î–ï–ü–õ–û–ï–ú

### –ö—Ä–∏—Ç–∏—á–Ω–æ (P0)
- [ ] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫–ª–∞—Å—Å mailer –Ω–∞ SymfonyMailer
- [ ] –£–¥–∞–ª–∏—Ç—å –í–°–ï console.log() –∏–ª–∏ –æ–±–µ—Ä–Ω—É—Ç—å –≤ —É—Å–ª–æ–≤–∏–µ
- [ ] –£–¥–∞–ª–∏—Ç—å backup —Ñ–∞–π–ª—ã (.backup, .bak)
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∫–æ—Ä–∑–∏–Ω—ã –∏–ª–∏ —Å–∫—Ä—ã—Ç—å –∫–Ω–æ–ø–∫–∏

### –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (P1)
- [ ] –î–æ–±–∞–≤–∏—Ç—å CSRF meta-—Ç–µ–≥–∏ –≤ layout
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å rate limiting –¥–ª—è API
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ —á–∏—Å—Ç–æ–π –ë–î
- [ ] –ó–∞–º–µ–Ω–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ
- [ ] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –≤ PoizonApiService

### –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (P2)
- [ ] –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ /docs/archive/
- [ ] –£–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏—Ä—É—é—â–∏–µ –∫–æ–Ω—Ñ–∏–≥–∏ –ë–î
- [ ] –£–¥–∞–ª–∏—Ç—å –∏–ª–∏ –∑–∞—â–∏—Ç–∏—Ç—å TestController
- [ ] –û—á–∏—Å—Ç–∏—Ç—å –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥ Redis

### –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (P3)
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å TODO –≤ PoizonImportController
- [ ] –û–±–Ω–æ–≤–∏—Ç—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ PHP –¥–æ 8.0+

---

## üöÄ –†–ï–ö–û–ú–ï–ù–î–£–ï–ú–´–ô –ü–û–†–Ø–î–û–ö –î–ï–ô–°–¢–í–ò–ô

### –®–ê–ì 1: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º (30 –º–∏–Ω—É—Ç)
```bash
# 1. –£–¥–∞–ª–∏—Ç—å backup —Ñ–∞–π–ª—ã
rm views/admin/edit-product.php.backup
rm views/catalog/index.php.bak
rm views/catalog/product.php.bak

# 2. –ò–∑–º–µ–Ω–∏—Ç—å mailer –≤ config/web.php
# (—Å–º. –ø—Ä–æ–±–ª–µ–º—É #1)

# 3. –£–¥–∞–ª–∏—Ç—å console.log
# (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–∏—Å–∫ –∏ –∑–∞–º–µ–Ω—É –≤ IDE)

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∫–æ—Ä–∑–∏–Ω—ã
```

### –®–ê–ì 2: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ staging –æ–∫—Ä—É–∂–µ–Ω–∏–∏ (1 —á–∞—Å)
```bash
# 1. –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –∫–æ–ø–∏—é –Ω–∞ staging
# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
php yii migrate --interactive=0

# 3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫—Ä–∏—Ç–∏—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
# - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è/–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
# - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ—Ä–∑–∏–Ω—É
# - –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞
# - –û—Ç–ø—Ä–∞–≤–∫–∞ email
# - –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
```

### –®–ê–ì 3: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (30 –º–∏–Ω—É—Ç)
```bash
# 1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å error_log
# 2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Sentry –∏–ª–∏ –∞–Ω–∞–ª–æ–≥
# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ /runtime –∏ /web/uploads
chmod -R 777 runtime
chmod -R 777 web/uploads
```

### –®–ê–ì 4: Production deployment
```bash
# 1. –°–æ–∑–¥–∞—Ç—å .env —Å production –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
YII_ENV=prod
YII_DEBUG=false
DB_SCHEMA_CACHE=true
MAIL_USE_FILE_TRANSPORT=false

# 2. –í—ã–ø–æ–ª–Ω–∏—Ç—å deployment
# (—Å–º. DEPLOYMENT_GUIDE.md)

# 3. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–µ—Ä–≤—ã–µ 24 —á–∞—Å–∞
```

---

## üìû –ö–û–ù–¢–ê–ö–¢–´

**–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫**: Senior Full-Stack Team  
**–î–∞—Ç–∞ –∞—É–¥–∏—Ç–∞**: 2025-11-06  
**–í–µ—Ä—Å–∏—è**: 1.0.0

---

## üéØ –ò–¢–û–ì–û–í–ê–Ø –û–¶–ï–ù–ö–ê

**–û–±—â–∞—è –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É**: 75/100

**–†–∞–∑–±–∏–≤–∫–∞**:
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: 85/100 (–æ—Ç–ª–∏—á–Ω–æ, –Ω–æ –Ω—É–∂–µ–Ω rate limiting)
- –ö–æ–¥: 70/100 (–µ—Å—Ç—å –Ω–µ–¥–æ—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏)
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: 80/100 (—Ö–æ—Ä–æ—à–æ, –Ω–æ –Ω—É–∂–Ω–∞ —á–∏—Å—Ç–∫–∞)
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 90/100 (–æ—Ç–ª–∏—á–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞)
- –ß–∏—Å—Ç–æ—Ç–∞ –∫–æ–¥–∞: 60/100 (–º–Ω–æ–≥–æ debug –∫–æ–¥–∞ –∏ –±—ç–∫–∞–ø–æ–≤)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: ‚ö†Ô∏è –ò—Å–ø—Ä–∞–≤–∏—Ç—å 4 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã, –∑–∞—Ç–µ–º –º–æ–∂–Ω–æ –¥–µ–ø–ª–æ–∏—Ç—å.

**–û–∂–∏–¥–∞–µ–º–æ–µ –≤—Ä–µ–º—è –¥–æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏**: 2-3 —á–∞—Å–∞ —Ä–∞–±–æ—Ç—ã.
