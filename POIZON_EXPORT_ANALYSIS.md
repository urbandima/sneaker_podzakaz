# –ê–Ω–∞–ª–∏–∑ –≤—ã–≥—Ä—É–∑–∫–∏ Poizon - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞—Ö–æ–¥–∫–∏

**–î–∞—Ç–∞:** 05.11.2024, 09:47  
**–ò—Å—Ç–æ—á–Ω–∏–∫:** export_04_11_2025__15_32_15.json

---

## üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´

### 1. ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–ê–Ø –û–ë–†–ê–ë–û–¢–ö–ê –†–ê–ó–ú–ï–†–ù–´–• –°–ï–¢–û–ö

**–ü—Ä–æ–±–ª–µ–º–∞:** –†–∞–∑–º–µ—Ä—ã –≤ JSON –∏–¥—É—Ç –∫–∞–∫ –º–∞—Å—Å–∏–≤—ã —Å—Ç—Ä–æ–∫ —Å delimiter!

```json
"sizes": [
  {
    "name": "–ï–≤—Ä–æ–ø–µ–π—Å–∫–∏–π –∫–æ–¥–µ–∫—Å –ï–°",
    "delimiter": ",",
    "value": "35.5,36,36.5,37.5,38,38.5,39,40,40.5,41,42,42.5,43,44,44.5,45,45.5,46,47,47.5,48,48.5,49.5,50.5,51.5"
  },
  {
    "name": "–ö–æ–¥–µ–∫—Å –∫—Ä–∞—Å–æ—Ç—ã –°–®–ê",
    "delimiter": ",",
    "value": "3.5,4,4.5,5,5.5,6,6.5,7,7.5,8,8.5,9,9.5,10,10.5,11,11.5,12,12.5,13,13.5,14,15,16,17"
  },
  {
    "name": "–ê–Ω–≥–ª–∏–π—Å–∫–∏–π –∫–æ–¥ –í–µ–ª–∏–∫–æ–±—Ä–∏—Ç–∞–Ω–∏–∏",
    "delimiter": ",",
    "value": "3,3.5,4,4.5,5,5.5,6,6,6.5,7,7.5,8,8.5,9,9.5,10,10.5,11,11.5,12,12.5,13,14,15,16"
  },
  {
    "name": "–ö–∏—Ç–∞–π—Å–∫–∏–π –∫–æ–¥ CHN",
    "delimiter": ",",
    "value": "225,230,235,235,240,240,245,250,255,260,265,270,275,280,285,290,295,300,305,310,315,320,330,340,350"
  },
  {
    "name": "–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –¥–ª–∏–Ω—ã —Å—Ç–æ–ø—ã",
    "delimiter": ",",
    "value": "22.5,23,23.5,23.5,24,24,24.5,25,25.5,26,26.5,27,27.5,28,28.5,29,29.5,30,30.5,31,31.5,32,33,34,35"
  }
]
```

**–°–û–û–¢–í–ï–¢–°–¢–í–ò–ï –ü–û –ò–ù–î–ï–ö–°–£:**
```
index 0:  EU=35.5  US=3.5   UK=3     CHN=225  CM=22.5
index 1:  EU=36    US=4     UK=3.5   CHN=230  CM=23
index 2:  EU=36.5  US=4.5   UK=4     CHN=235  CM=23.5
...
index 9:  EU=40    US=7     UK=6     CHN=250  CM=25
```

**–¢–µ–∫—É—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞:**
- –í –ë–î —Ö—Ä–∞–Ω—è—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–µ –ø–æ–ª—è: `eu_size`, `us_size`, `uk_size`, `cm_size`
- –ü—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ –Ω—É–∂–Ω–æ –ø–∞—Ä—Å–∏—Ç—å –º–∞—Å—Å–∏–≤—ã –∏ —Å–æ–ø–æ—Å—Ç–∞–≤–ª—è—Ç—å –ø–æ –∏–Ω–¥–µ–∫—Å—É
- –°–µ–π—á–∞—Å —ç—Ç–æ –ù–ï —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ!

---

### 2. ‚ùå –û–¢–°–£–¢–°–¢–í–£–Æ–©–ò–ï –ü–û–õ–Ø –í –ë–î

#### –ü–æ–ª—è –∫–æ—Ç–æ—Ä—ã–µ –ï–°–¢–¨ –≤ JSON, –Ω–æ –ù–ï–¢ –≤ –ë–î:

**Product (—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π —Ç–æ–≤–∞—Ä):**
- ‚úÖ `favoriteCount` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏–π –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ (–µ—Å—Ç—å –ø–æ–ª–µ –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- ‚úÖ `countryOfOrigin` - —Å—Ç—Ä–∞–Ω–∞ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏—è (–µ—Å—Ç—å –∫–∞–∫ `country`)
- ‚ùå `seriesName` - –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–µ—Ä–∏–∏ (Nike Air Max, Jordan 1, –∏ —Ç.–¥.)
- ‚ùå `relatedProducts[]` - —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã
- ‚ùå `timeDelivery` - —Å—Ä–æ–∫–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ (min/max –¥–Ω–µ–π)

**ProductSize (–≤–∞—Ä–∏–∞–Ω—Ç—ã):**
- ‚úÖ `purchasePrice` - –ö–†–ò–¢–ò–ß–ù–û! –¶–µ–Ω–∞ –∑–∞–∫—É–ø–∫–∏ –≤ CNY (–µ—Å—Ç—å –∫–∞–∫ `poizon_price_cny`)
- ‚úÖ `count` - –æ—Å—Ç–∞—Ç–æ–∫ –Ω–∞ —Å–∫–ª–∞–¥–µ (–µ—Å—Ç—å –∫–∞–∫ `poizon_stock`)
- ‚úÖ `available` - –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å (–µ—Å—Ç—å –∫–∞–∫ `is_available`)
- ‚ùå `timeDelivery` - —Å—Ä–æ–∫–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞
- ‚ùå `params` - —Ü–≤–µ—Ç –≤–∞—Ä–∏–∞–Ω—Ç–∞ (–º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞–∑–Ω—ã–π —Ü–≤–µ—Ç –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤!)

---

## üìä –ê–ù–ê–õ–ò–ó –ü–û–õ–ï–ô

### ‚úÖ –ü–æ–ª—è –∫–æ—Ç–æ—Ä—ã–µ –ó–ê–ì–†–£–ñ–ê–Æ–¢–°–Ø –ø—Ä–∞–≤–∏–ª—å–Ω–æ:

1. **–û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:**
   - `title` ‚Üí `name`
   - `description` ‚Üí `description`
   - `vendorCode` ‚Üí `sku` –∏–ª–∏ `vendor_code`
   - `price` ‚Üí `price`
   - `images[]` ‚Üí `main_image` + `product_image` —Ç–∞–±–ª–∏—Ü–∞

2. **–°–≤—è–∑–∏:**
   - `categoryId` ‚Üí `category_id`
   - `vendorId` ‚Üí `brand_id` (—á–µ—Ä–µ–∑ —Ç–∞–±–ª–∏—Ü—É brands)

3. **–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
   - `properties[]` ‚Üí `properties` (JSON)
   - `gender` ‚Üí `gender`
   - `keywords[]` ‚Üí `keywords` (JSON)

4. **–†–∞–∑–º–µ—Ä—ã (—á–∞—Å—Ç–∏—á–Ω–æ):**
   - `children[]` ‚Üí `product_size` —Ç–∞–±–ª–∏—Ü–∞
   - `params[–†–∞–∑–º–µ—Ä]` ‚Üí `size`
   - `purchasePrice` ‚Üí `poizon_price_cny`
   - `count` ‚Üí `poizon_stock`

---

### ‚ùå –ü–æ–ª—è –∫–æ—Ç–æ—Ä—ã–µ –ù–ï –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–ª–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û:

1. **–†–∞–∑–º–µ—Ä–Ω—ã–µ —Å–µ—Ç–∫–∏ (`sizes[]`):**
   - –ù–ï –ø–∞—Ä—Å—è—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ –º–∞—Å—Å–∏–≤—ã
   - –ù–ï —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ EU‚ÜîUS‚ÜîUK‚ÜîCM
   - –ù—É–∂–µ–Ω –ü–ê–†–°–ï–† –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–∑–±–∏–≤–∞–µ—Ç —Å—Ç—Ä–æ–∫–∏ –ø–æ delimiter

2. **–°–µ—Ä–∏—è —Ç–æ–≤–∞—Ä–∞ (`seriesName`):**
   - –ù–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ë–î
   - –í–∞–∂–Ω–æ –¥–ª—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤ (–≤—Å–µ Air Max, –≤—Å–µ Jordan 1, –∏ —Ç.–¥.)

3. **–°—Ä–æ–∫–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ (`timeDelivery`):**
   - –ù–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
   - –í–∞–∂–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç—É (2-3 –¥–Ω—è vs 15-24 –¥–Ω—è)

4. **–¶–≤–µ—Ç –≤–∞—Ä–∏–∞–Ω—Ç–∞:**
   - –í JSON –µ—Å—Ç—å `params[–¶–≤–µ—Ç]` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞
   - –ú–æ–∂–µ—Ç –±—ã—Ç—å –†–ê–ó–ù–´–ô —Ü–≤–µ—Ç –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤!
   - –°–µ–π—á–∞—Å —Ç–æ–ª—å–∫–æ –≥–ª–æ–±–∞–ª—å–Ω–æ–µ –ø–æ–ª–µ `color_description`

5. **–°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã (`relatedProducts[]`):**
   - –ù–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
   - –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

---

## üîß –ß–¢–û –ù–£–ñ–ù–û –î–û–ë–ê–í–ò–¢–¨ –í –ë–î

### 1. –¢–∞–±–ª–∏—Ü–∞ `product`:

```sql
ALTER TABLE product ADD COLUMN series_name VARCHAR(255) COMMENT '–ù–∞–∑–≤–∞–Ω–∏–µ —Å–µ—Ä–∏–∏ (Air Max, Jordan, –∏ —Ç.–¥.)';
ALTER TABLE product ADD COLUMN related_products_json TEXT COMMENT '–°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã JSON';
ALTER TABLE product ADD COLUMN delivery_time_min INT COMMENT '–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Å—Ä–æ–∫ –¥–æ—Å—Ç–∞–≤–∫–∏ (–¥–Ω–∏)';
ALTER TABLE product ADD COLUMN delivery_time_max INT COMMENT '–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Å—Ä–æ–∫ –¥–æ—Å—Ç–∞–≤–∫–∏ (–¥–Ω–∏)';
```

### 2. –¢–∞–±–ª–∏—Ü–∞ `product_size`:

```sql
ALTER TABLE product_size ADD COLUMN color_variant VARCHAR(100) COMMENT '–¶–≤–µ—Ç –≤–∞—Ä–∏–∞–Ω—Ç–∞';
ALTER TABLE product_size ADD COLUMN delivery_time_min INT COMMENT '–ú–∏–Ω —Å—Ä–æ–∫ –¥–æ—Å—Ç–∞–≤–∫–∏';
ALTER TABLE product_size ADD COLUMN delivery_time_max INT COMMENT '–ú–∞–∫—Å —Å—Ä–æ–∫ –¥–æ—Å—Ç–∞–≤–∫–∏';
```

### 3. –ù–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ `size_conversion` (–í–ê–ñ–ù–û!):

```sql
CREATE TABLE size_conversion (
    id INT AUTO_INCREMENT PRIMARY KEY,
    eu_size VARCHAR(10),
    us_size VARCHAR(10),
    uk_size VARCHAR(10),
    cm_size FLOAT,
    chn_size VARCHAR(10),
    gender ENUM('male', 'female', 'unisex', 'kids'),
    category VARCHAR(50) COMMENT 'sneakers, boots, etc',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UNIQUE KEY unique_conversion (eu_size, gender, category)
) COMMENT '–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ —Ä–∞–∑–º–µ—Ä–æ–≤';
```

---

## üéØ –ß–¢–û –£–õ–£–ß–®–ò–¢–¨ –í –ê–î–ú–ò–ù–ö–ï

### 1. –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤:

**–¢–µ–∫—É—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞:**
- –†–∞–∑–º–µ—Ä—ã –≤–≤–æ–¥—è—Ç—Å—è –≤—Ä—É—á–Ω—É—é –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—è (EU, US, UK, CM)
- –õ–µ–≥–∫–æ –æ—à–∏–±–∏—Ç—å—Å—è –∏ —Å–æ–∑–¥–∞—Ç—å –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ

**–†–µ—à–µ–Ω–∏–µ:**
- –í—ã–±–æ—Ä —Ä–∞–∑–º–µ—Ä–∞ –∏–∑ –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ —Å–ø–∏—Å–∫–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã `size_conversion`
- –ü–æ–∫–∞–∑ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –µ—Å–ª–∏ —Ä–∞–∑–º–µ—Ä—ã –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É

### 2. –ò–º–ø–æ—Ä—Ç —Ä–∞–∑–º–µ—Ä–Ω–æ–π —Å–µ—Ç–∫–∏:

**–î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é:**
```php
public function importSizeGrid($sizesJson, $productId) {
    // –ü–∞—Ä—Å–∏–º –º–∞—Å—Å–∏–≤—ã —Ä–∞–∑–º–µ—Ä–æ–≤
    $euSizes = explode(',', $sizesJson['EU']['value']);
    $usSizes = explode(',', $sizesJson['US']['value']);
    $ukSizes = explode(',', $sizesJson['UK']['value']);
    $cmSizes = explode(',', $sizesJson['CM']['value']);
    
    // –°–æ–∑–¥–∞–µ–º —Ä–∞–∑–º–µ—Ä—ã —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ–º
    foreach ($euSizes as $index => $euSize) {
        $size = new ProductSize();
        $size->product_id = $productId;
        $size->eu_size = trim($euSizes[$index]);
        $size->us_size = trim($usSizes[$index] ?? '');
        $size->uk_size = trim($ukSizes[$index] ?? '');
        $size->cm_size = trim($cmSizes[$index] ?? '');
        $size->save();
    }
}
```

### 3. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –¥–æ—Å—Ç–∞–≤–∫–µ:

**–í –∫–∞—Ä—Ç–æ—á–∫–µ —Ç–æ–≤–∞—Ä–∞ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å:**
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π/–º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Å—Ä–æ–∫ –¥–æ—Å—Ç–∞–≤–∫–∏
- –†–∞–∑–Ω—ã–µ —Å—Ä–æ–∫–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤
- –í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã (üöÄ –ë—ã—Å—Ç—Ä–æ 2-3 –¥–Ω—è, ‚è±Ô∏è –°—Ç–∞–Ω–¥–∞—Ä—Ç 5-6 –¥–Ω–µ–π, üì¶ –î–æ–ª–≥–æ 15-24 –¥–Ω—è)

### 4. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–∏—è–º–∏:

**–î–æ–±–∞–≤–∏—Ç—å:**
- –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ —Å–µ—Ä–∏–π (Air Max 90, Air Max 1, Jordan 1 High, –∏ —Ç.–¥.)
- –§–∏–ª—å—Ç—Ä –ø–æ —Å–µ—Ä–∏—è–º –≤ –∫–∞—Ç–∞–ª–æ–≥–µ
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤ –æ–¥–Ω–æ–π —Å–µ—Ä–∏–∏

---

## üìã –ê–ù–ê–õ–ò–ó –ö–ê–†–¢–û–ß–ö–ò –¢–û–í–ê–†–ê

### ‚úÖ –ß—Ç–æ –ï–°–¢–¨ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:**
   - –ù–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ
   - –ë—Ä–µ–Ω–¥, –∫–∞—Ç–µ–≥–æ—Ä–∏—è
   - –¶–µ–Ω–∞
   - –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

2. **–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
   - –°–≤–æ–π—Å—Ç–≤–∞ –∏–∑ Poizon (properties)
   - –ü–æ–ª (gender)
   - –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞

3. **–†–∞–∑–º–µ—Ä—ã:**
   - –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤
   - –ù–∞–ª–∏—á–∏–µ (–≤ –Ω–∞–ª–∏—á–∏–∏/–Ω–µ—Ç)
   - –¶–µ–Ω–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ (–ø–æ—Å–ª–µ –Ω–∞—à–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)

### ‚ùå –ß—Ç–æ –û–¢–°–£–¢–°–¢–í–£–ï–¢:

1. **–ü–æ–ª–Ω–∞—è —Ä–∞–∑–º–µ—Ä–Ω–∞—è —Å–µ—Ç–∫–∞:**
   - –ù–µ—Ç —Ç–∞–±–ª–∏—Ü—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è EU/US/UK/CM
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –º–æ–∂–µ—Ç –ø–æ–Ω—è—Ç—å –∫–∞–∫–æ–π —Ä–∞–∑–º–µ—Ä –µ–º—É –Ω—É–∂–µ–Ω

2. **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–æ—Å—Ç–∞–≤–∫–µ:**
   - –ù–µ—Ç —Å—Ä–æ–∫–æ–≤ –¥–æ—Å—Ç–∞–≤–∫–∏
   - –ù–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —á—Ç–æ —Ç–æ–≤–∞—Ä –¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –∏–∑ –ö–∏—Ç–∞—è

3. **–í–∞—Ä–∏–∞–Ω—Ç—ã —Ü–≤–µ—Ç–∞:**
   - –ï—Å–ª–∏ —Ç–æ–≤–∞—Ä –¥–æ—Å—Ç—É–ø–µ–Ω –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ü–≤–µ—Ç–∞—Ö
   - –ù–µ—Ç –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è —Ü–≤–µ—Ç–æ–≤

4. **–ê—Ä—Ç–∏–∫—É–ª –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è:**
   - Style Code (355152-106) –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
   - –í–∞–∂–Ω–æ –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏

5. **–°–µ—Ä–∏—è —Ç–æ–≤–∞—Ä–∞:**
   - –ù–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–µ—Ä–∏–∏ (Dunk Low, Air Max 90, –∏ —Ç.–¥.)
   - –ù–µ—Ç —Å—Å—ã–ª–æ–∫ –Ω–∞ –¥—Ä—É–≥–∏–µ —Ç–æ–≤–∞—Ä—ã —Å–µ—Ä–∏–∏

6. **–°—Ç—Ä–∞–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞:**
   - –ù–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
   - –í–∞–∂–Ω–æ –¥–ª—è –ø–æ–∫—É–ø–∞—Ç–µ–ª—è

---

## üöÄ –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ü–û –£–õ–£–ß–®–ï–ù–ò–Æ

### –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–ö–†–ò–¢–ò–ß–ù–û):

1. **‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥ —Ä–∞–∑–º–µ—Ä–Ω–æ–π —Å–µ—Ç–∫–∏**
   - –°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –ø–∞—Ä—Å–∏–Ω–≥–∞ –º–∞—Å—Å–∏–≤–æ–≤ sizes[]
   - –ü—Ä–∞–≤–∏–ª—å–Ω–æ —Å–æ–ø–æ—Å—Ç–∞–≤–ª—è—Ç—å —Ä–∞–∑–º–µ—Ä—ã –ø–æ –∏–Ω–¥–µ–∫—Å—É
   - –ó–∞–ø–æ–ª–Ω—è—Ç—å –≤—Å–µ –ø–æ–ª—è (eu_size, us_size, uk_size, cm_size)

2. **‚úÖ –î–æ–±–∞–≤–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ —Ä–∞–∑–º–µ—Ä–æ–≤**
   - –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ size_conversion
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
   - –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤ –∫–∞—Ä—Ç–æ—á–∫–µ —Ç–æ–≤–∞—Ä–∞

3. **‚úÖ –î–æ–±–∞–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ä–æ–∫–æ–≤ –¥–æ—Å—Ç–∞–≤–∫–∏**
   - –ù–∞ –∫–∞—Ä—Ç–æ—á–∫–µ —Ç–æ–≤–∞—Ä–∞
   - –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –æ—Ç–¥–µ–ª—å–Ω–æ
   - –° –≤–∏–∑—É–∞–ª—å–Ω—ã–º–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º–∏

### –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:

4. **–î–æ–±–∞–≤–∏—Ç—å —Å–µ—Ä–∏—é —Ç–æ–≤–∞—Ä–∞**
   - –ü–æ–ª–µ series_name –≤ –ë–î
   - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –∫–∞—Ä—Ç–æ—á–∫–µ
   - –§–∏–ª—å—Ç—Ä –ø–æ —Å–µ—Ä–∏—è–º

5. **–£–ª—É—á—à–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫**
   - –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Ç–∏–ø–∞–º
   - –ò–∫–æ–Ω–∫–∏ –¥–ª—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫
   - –ë–æ–ª–µ–µ —á–∏—Ç–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç

6. **–î–æ–±–∞–≤–∏—Ç—å –∞—Ä—Ç–∏–∫—É–ª (Style Code)**
   - –í –∫–∞—Ä—Ç–æ—á–∫–µ —Ç–æ–≤–∞—Ä–∞
   - –í –∞–¥–º–∏–Ω–∫–µ
   - –í –ø–æ–∏—Å–∫–µ

### –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:

7. **–°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã**
   - –ò–º–ø–æ—Ä—Ç relatedProducts
   - –ë–ª–æ–∫ "–ü–æ—Ö–æ–∂–∏–µ —Ç–æ–≤–∞—Ä—ã"

8. **–í–∞—Ä–∏–∞–Ω—Ç—ã —Ü–≤–µ—Ç–∞**
   - –ï—Å–ª–∏ —Ç–æ–≤–∞—Ä –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ü–≤–µ—Ç–∞—Ö
   - –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ü–≤–µ—Ç–æ–≤

---

## üíæ –ú–ò–ì–†–ê–¶–ò–ò –ö–û–¢–û–†–´–ï –ù–£–ñ–ù–û –°–û–ó–î–ê–¢–¨

### 1. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π:

```php
// m251105_100000_add_delivery_and_series_fields.php
$this->addColumn('{{%product}}', 'series_name', $this->string(255));
$this->addColumn('{{%product}}', 'delivery_time_min', $this->integer());
$this->addColumn('{{%product}}', 'delivery_time_max', $this->integer());
$this->addColumn('{{%product}}', 'related_products_json', $this->text());

$this->addColumn('{{%product_size}}', 'color_variant', $this->string(100));
$this->addColumn('{{%product_size}}', 'delivery_time_min', $this->integer());
$this->addColumn('{{%product_size}}', 'delivery_time_max', $this->integer());
```

### 2. –¢–∞–±–ª–∏—Ü–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ —Ä–∞–∑–º–µ—Ä–æ–≤:

```php
// m251105_101000_create_size_conversion_table.php
$this->createTable('{{%size_conversion}}', [
    'id' => $this->primaryKey(),
    'eu_size' => $this->string(10)->notNull(),
    'us_size' => $this->string(10),
    'uk_size' => $this->string(10),
    'cm_size' => $this->float(),
    'chn_size' => $this->string(10),
    'gender' => $this->string(20),
    'category' => $this->string(50),
    'created_at' => $this->timestamp()->defaultExpression('CURRENT_TIMESTAMP'),
]);

$this->createIndex('idx_size_conversion_unique', '{{%size_conversion}}', 
    ['eu_size', 'gender', 'category'], true);
```

### 3. –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤:

```php
// m251105_102000_populate_size_conversion.php
// –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è–º–∏ —Ä–∞–∑–º–µ—Ä–æ–≤
// –∏–∑ –≤—ã–≥—Ä—É–∑–∫–∏ Poizon –∏–ª–∏ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤
```

---

## üìä –ò–¢–û–ì–û–í–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê

### –ü—Ä–æ–±–ª–µ–º—ã:
- üî¥ **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö:** 2 (—Ä–∞–∑–º–µ—Ä–Ω–∞—è —Å–µ—Ç–∫–∞, —Å—Ä–æ–∫–∏ –¥–æ—Å—Ç–∞–≤–∫–∏)
- üü° **–°—Ä–µ–¥–Ω–∏—Ö:** 6 (—Å–µ—Ä–∏—è, –∞—Ä—Ç–∏–∫—É–ª, –∏ —Ç.–¥.)
- üü¢ **–ù–∏–∑–∫–∏—Ö:** 2 (—Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã, —Ü–≤–µ—Ç–∞)

### –ü–æ–∫—Ä—ã—Ç–∏–µ –¥–∞–Ω–Ω—ã—Ö:
- ‚úÖ **–ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è:** ~70% –ø–æ–ª–µ–π
- ‚ùå **–ù–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è:** ~30% –ø–æ–ª–µ–π
- üîß **–ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:** —Ä–∞–∑–º–µ—Ä—ã (–∫—Ä–∏—Ç–∏—á–Ω–æ!)

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π:
1. ‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø–∞—Ä—Å–∏–Ω–≥ —Ä–∞–∑–º–µ—Ä–æ–≤ (1-2 —á–∞—Å–∞)
2. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É size_conversion (1 —á–∞—Å)
3. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ä–æ–∫–æ–≤ –¥–æ—Å—Ç–∞–≤–∫–∏ (30 –º–∏–Ω)
4. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å —Å–µ—Ä–∏—é –∏ –∞—Ä—Ç–∏–∫—É–ª (30 –º–∏–Ω)
5. ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É —Ç–æ–≤–∞—Ä–∞ (1 —á–∞—Å)

**–û–±—â–µ–µ –≤—Ä–µ–º—è:** ~5 —á–∞—Å–æ–≤ —Ä–∞–±–æ—Ç—ã

---

**–ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–æ:** 05.11.2024, 09:47  
**–û–±–Ω–æ–≤–ª–µ–Ω–æ:** 05.11.2024, 09:53  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û –ò –ì–û–¢–û–í–û –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ!** üéâ

---

## ‚úÖ –í–´–ü–û–õ–ù–ï–ù–ù–´–ï –†–ê–ë–û–¢–´ (05.11.2024, 09:53)

### 1. –°–æ–∑–¥–∞–Ω—ã –º–∏–≥—Ä–∞—Ü–∏–∏:
- ‚úÖ `m251105_100000_add_delivery_and_series_fields.php` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è —Å–µ—Ä–∏–∏, –¥–æ—Å—Ç–∞–≤–∫–∏, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤
- ‚úÖ `m251105_101000_create_size_conversion_table.php` - —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ —Ä–∞–∑–º–µ—Ä–æ–≤ (–ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–∞, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –±—É–¥—É—â–µ–º)

### 2. –û–±–Ω–æ–≤–ª–µ–Ω—ã –º–æ–¥–µ–ª–∏:
- ‚úÖ **Product** - –¥–æ–±–∞–≤–ª–µ–Ω—ã: `series_name`, `delivery_time_min/max`, `related_products_json`
- ‚úÖ **ProductSize** - –¥–æ–±–∞–≤–ª–µ–Ω—ã: `color_variant`, `delivery_time_min/max`

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∞ –∞–¥–º–∏–Ω–∫–∞:
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –±–ª–æ–∫ "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã" –≤ edit-product.php
- ‚úÖ –ü–æ–ª—è: –°–µ—Ä–∏—è —Ç–æ–≤–∞—Ä–∞, –°—Ç—Ä–∞–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞, –°—Ä–æ–∫–∏ –¥–æ—Å—Ç–∞–≤–∫–∏, –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã

### 4. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç –∏–∑ Poizon:
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤ EU/US/UK/CM –ø–æ –∏–Ω–¥–µ–∫—Å—É –∏–∑ –º–∞—Å—Å–∏–≤–æ–≤
- ‚úÖ –ò–º–ø–æ—Ä—Ç —Ü–≤–µ—Ç–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ (`color_variant`)
- ‚úÖ –ò–º–ø–æ—Ä—Ç —Å—Ä–æ–∫–æ–≤ –¥–æ—Å—Ç–∞–≤–∫–∏ (`timeDelivery`)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç —Ü–µ–Ω—ã: `price_cny * 1.5 + 40 BYN`

### 5. –£–ª—É—á—à–µ–Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∞ —Ç–æ–≤–∞—Ä–∞ (–∫–ª–∏–µ–Ω—Ç):
- ‚úÖ **–¢–∞–±–ª–∏—Ü–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Ä–∞–∑–º–µ—Ä–æ–≤** —Å –∫–Ω–æ–ø–∫–æ–π toggle
- ‚úÖ **–°–µ–∫—Ü–∏—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫** —Å –ø–æ–ª–Ω—ã–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º:
  - –°–µ—Ä–∏—è —Ç–æ–≤–∞—Ä–∞
  - –ê—Ä—Ç–∏–∫—É–ª (Style Code)
  - –°—Ç—Ä–∞–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞
  - –ì–æ–¥ –≤—ã–ø—É—Å–∫–∞
  - –ü–æ–ª
  - –í–µ—Å
  - –í—Å–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∏–∑ Poizon
- ‚úÖ **–°—Ä–æ–∫–∏ –¥–æ—Å—Ç–∞–≤–∫–∏** –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–µ —Ç–æ–≤–∞—Ä–∞

### 6. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è:
```bash
cd /Users/user/CascadeProjects/splitwise
php yii migrate
php yii cache/flush-all
```

---
